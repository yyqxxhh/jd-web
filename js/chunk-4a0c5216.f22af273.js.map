{"version":3,"sources":["webpack:///./node_modules/core-js/internals/array-method-has-species-support.js","webpack:///./src/components/indexnav.vue?0668","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/array-method-uses-to-length.js","webpack:///./src/views/Home.vue?e5b0","webpack:///./src/components/header.vue?3e5e","webpack:///src/components/header.vue","webpack:///./src/components/header.vue?ec21","webpack:///./src/components/header.vue","webpack:///./src/components/indexnav.vue?9083","webpack:///src/components/indexnav.vue","webpack:///./src/components/indexnav.vue?e47e","webpack:///./src/components/indexnav.vue","webpack:///./node_modules/better-scroll/dist/bscroll.esm.js","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?61c4","webpack:///./src/components/header.vue?273f","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./node_modules/core-js/internals/is-array.js"],"names":["fails","wellKnownSymbol","V8_VERSION","SPECIES","module","exports","METHOD_NAME","array","constructor","foo","Boolean","isObject","isArray","originalArray","length","C","Array","prototype","undefined","toPrimitive","definePropertyModule","createPropertyDescriptor","object","key","value","propertyKey","f","$","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","FORCED","target","proto","forced","arg","i","k","len","E","this","A","n","arguments","TypeError","argument","method","call","DESCRIPTORS","has","defineProperty","Object","cache","thrower","it","options","ACCESSORS","argument0","argument1","enumerable","get","render","_vm","_h","$createElement","_c","_self","staticClass","ref","staticStyle","_m","_l","item","index","on","$event","toInfo","goods_id","attrs","image","_v","_s","goods_name","price","_e","styleFlag","scopedSlots","_u","fn","proxy","changeStyle","iconStyle","staticRenderFns","onClickLeft","onClickRight","iconFlag","toSearch","model","callback","$$v","expression","url","name","created","localStorage","token","axios","methods","location","href","$router","push","id","substring","indexOf","updated","document","getElementsByClassName","style","color","data","bannerList","component","onChange","items","names","navdata","console","log","mounted","res","result","configure","spliceOne","list","pop","slicedToArray","sliceIterator","arr","_arr","_n","_d","_i","Symbol","iterator","next","done","err","toConsumableArray","arr2","from","eventMixin","BScroll","type","context","_events","once","magic","off","apply","count","trigger","events","eventsCopy","event","_event","slice","inBrowser","window","ua","navigator","userAgent","toLowerCase","isWeChatDevTools","test","isAndroid","getNow","performance","now","timing","navigationStart","Date","extend","_len","rest","_key","source","isUndef","v","getDistance","x","y","Math","sqrt","elementStyle","createElement","vendor","transformNames","standard","webkit","Moz","ms","prefixStyle","charAt","toUpperCase","substr","addEvent","el","capture","addEventListener","passive","removeEvent","removeEventListener","offset","left","top","offsetLeft","offsetTop","offsetParent","offsetToBody","rect","getBoundingClientRect","pageXOffset","pageYOffset","cssVendor","transform","transition","hasPerspective","hasTouch","hasTransform","hasTransition","transitionTimingFunction","transitionDuration","transitionDelay","transformOrigin","transitionEnd","TOUCH_EVENT","MOUSE_EVENT","eventType","touchstart","touchmove","touchend","mousedown","mousemove","mouseup","getRect","SVGElement","width","height","offsetWidth","offsetHeight","preventDefaultException","exceptions","tap","e","eventName","ev","createEvent","initEvent","pageX","pageY","dispatchEvent","click","eventSource","changedTouches","posSrc","screenX","screenY","clientX","clientY","bubbles","cancelable","MouseEvent","forwardedTouchEvent","_constructed","dblclick","prepend","firstChild","before","appendChild","parentNode","insertBefore","removeChild","child","DEFAULT_OPTIONS","startX","startY","scrollX","scrollY","freeScroll","directionLockThreshold","eventPassthrough","bounce","bounceTime","momentum","momentumLimitTime","momentumLimitDistance","swipeTime","swipeBounceTime","deceleration","flickLimitTime","flickLimitDistance","resizePolling","probeType","preventDefault","tagName","HWCompositing","useTransition","useTransform","bindToWrapper","disableMouse","disableTouch","observeDOM","autoBlur","wheel","snap","scrollbar","pullDownRefresh","pullUpLoad","mouseWheel","stopPropagation","zoom","infinity","initMixin","_init","_handleOptions","directionX","directionY","setScale","_addDOMEvents","_initExtFeatures","_watchTransition","_initDOMObserver","_handleAutoBlur","refresh","scrollTo","enable","scale","lastScale","translateZ","eventOperation","_handleDOMEvents","_removeDOMEvents","wrapper","scroller","_initSnap","_initScrollbar","_initPullUp","_initPullDown","_initWheel","_initMouseWheel","_initZoom","_initInfinite","me","isInTransition","set","newVal","children","pointerEvents","pulling","activeElement","blur","_this","MutationObserver","timer","observer","mutations","_shouldNotRefresh","immediateRefresh","deferredRefresh","mutation","clearTimeout","setTimeout","config","attributes","childList","subtree","observe","disconnect","_checkDOMUpdate","outsideBoundaries","minScrollX","maxScrollX","minScrollY","maxScrollY","stopFromTransition","scrollerRect","oldWidth","oldHeight","check","destroyed","newWidth","newHeight","_this2","handleEvent","_start","touches","_zoomStart","_zoom","_move","scaled","_zoomEnd","_end","_resize","_transitionEnd","enabled","_onMouseWheel","isWrapperStatic","getComputedStyle","position","wrapperRect","wrapperWidth","wrapperHeight","scrollerWidth","round","scrollerHeight","relativeX","relativeY","_checkWheelAllDisabled","itemHeight","selectedIndex","hasHorizontalScroll","hasVerticalScroll","endTime","wrapperOffset","resetPosition","disable","ease","swipe","t","swipeBounce","current","start","time","lowerMargin","upperMargin","wrapperSize","scroll","distance","speed","abs","duration","rate","destination","_findNearestValidWheel","max","min","DEFAULT_INTERVAL","noop","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","interval","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_LEFT","DIRECTION_RIGHT","PROBE_DEBOUNCE","PROBE_REALTIME","warn","msg","error","assert","condition","Error","coreMixin","_eventType","button","initiated","moved","distX","distY","movingDirectionX","movingDirectionY","directionLocked","_transitionTime","startTime","stop","point","absStartX","absStartY","pointX","pointY","deltaX","deltaY","absDistX","absDistY","timestamp","newX","newY","bottom","right","_translate","scrollLeft","documentElement","body","scrollTop","pX","pY","clientWidth","clientHeight","_checkPullDown","_checkClick","flick","momentumX","momentumY","adjustTime","easing","_nearestSnap","currentPage","snapSpeed","preventClick","className","wheelWrapperClass","_offset","_dblclick","dblclickTrigged","lastClickTime","_dblclick$delay","delay","resizeTimeout","_startProbe","probeTimer","probe","pos","getComputedPosition","scrollerStyle","indicators","transitionTime","_transitionTimingFunction","_i2","needReset","_options$wheel$rotate","rotate","deg","_i3","updatePosition","_animate","destX","destY","easingFn","startScale","destScale","destTime","step","isAnimating","newScale","animateTimer","scrollBy","isSilent","_reflow","scrollToElement","offsetX","offsetY","nodeType","querySelector","classList","contains","wheelItemClass","easeing","roundX","roundY","matrix","split","replace","destroy","snapMixin","loop","cloneNode","querySelectorAll","pages","stepX","stepY","cx","cy","l","m","_checkSnapLoop","initPageX","_loopX","initPageY","_loopY","_goToPage","snapThreshold","threshold","snapThresholdX","snapThresholdY","listenFlick","_children","posX","posY","goToPage","prev","getCurrentPage","wheelMixin","wheelTo","getSelectedIndex","wheelDisabledItemClass","currentIndex","cacheIndex","wheelItemsAllDisabled","INDICATOR_MIN_LEN","scrollbarMixin","_options$scrollbar","_options$scrollbar$fa","fade","_options$scrollbar$in","interactive","indicator","createScrollbar","direction","_insertScrollBar","Indicator","_removeScrollBars","cssText","wrapperStyle","indicatorStyle","visible","opacity","sizeRatioX","sizeRatioY","maxPosX","maxPosY","pullDownMixin","_options$pullDownRefr","_options$pullDownRefr2","_options$pullDownRefr3","finishPullDown","openPullDown","closePullDown","autoPullDownRefresh","_options$pullDownRefr4","_options$pullDownRefr5","_options$pullDownRefr6","pullUpMixin","pullupWatching","_watchPullUp","_checkToEnd","_options$pullUpLoad$t","finishPullUp","openPullUp","closePullUp","mouseWheelMixin","_handleMouseWheelEvent","mouseWheelTimer","mouseWheelEndTimer","firstWheelOpreation","_options$mouseWheel","_options$mouseWheel$s","_options$mouseWheel$i","invert","_options$mouseWheel$e","easeTime","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","detail","needTriggerEnd","zoomMixin","_options$zoom","_options$zoom$start","_options$zoom$min","_options$zoom$max","_zoomTo","originX","originY","zoomTo","_offsetToBody","firstFinger","secondFinger","startDistance","_offsetToBody2","_options$zoom2","_options$zoom2$min","_options$zoom2$max","pow","_options$zoom3","_options$zoom3$min","_options$zoom3$max","_shouldShow","_calculate","hold","fadeTimeout","indicatorHeight","_height","indicatorWidth","_width","lastPointX","lastPointY","_handleMoveEvents","_pos","snapOption","_snapOption$easing","display","RUNWAY_ITEMS","RUNWAY_ITEMS_OPPOSITE","ANIMATION_DURATION_MS","DEFAULT_SCROLL_RUNWAY","infiniteMixin","infiniteScroller","InfiniteScroller","isTombstoneNode","node","createTombstone","fetch","firstAttachedItem","lastAttachedItem","anchorScrollTop","anchorItem","tombstoneHeight","tombstoneWidth","tombstones","tombstonesAnimationHandlers","loadedItems","requestInProgress","hasMore","wrapperEl","scrollerEl","onResize","_onResizeHandler","onScroll","forEach","handler","delta","_calculateAnchoredItem","lastScreenItem","end","fill","maybeRequestContent","tombstone","attachContent","_this3","itemsNeeded","then","addContent","tombstoneLen","_removeTombstones","curPos","_fixScrollPosition","_setupAnimations","_addItem","unusedNodes","_collectUnusedNodes","tombstoneAnimations","_createDOMNodes","_cleanupUnusedNodes","_cacheNodeSize","resetMore","markIndex","itemLen","currentNode","currentData","splice","zIndex","_getTombStone","isTombstone","_this4","animation","_animation","tombstoneNode","tombstoneAnimationsHandler","_animation2","initialAnchor","ceil","floor","Version","components","HeaderCom","IndexNavCom","forList","myscroll","page","getlist","$qs","stringify","p","$nextTick","$indexOf","arrayMethodIsStrict","arrayMethodUsesToLength","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","1","searchElement","classof"],"mappings":"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","file":"js/chunk-4a0c5216.f22af273.js","sourcesContent":["var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./indexnav.vue?vue&type=style&index=0&id=26660145&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./indexnav.vue?vue&type=style&index=0&id=26660145&lang=less&scoped=true&\"","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('div',{ref:\"wrap\",staticStyle:{\"height\":\"90vh\"}},[_c('div',[_c('header-com'),_c('index-nav-com'),_vm._m(0),_c('div',{staticClass:\"list\"},[(_vm.styleFlag)?_c('div',{staticClass:\"listFirst\"},_vm._l((_vm.forList),function(item,index){return _c('div',{key:index,staticClass:\"list-one\",on:{\"click\":function($event){return _vm.toInfo(item.goods_id)}}},[_c('img',{attrs:{\"src\":item.image,\"alt\":\"\"}}),_c('p',[_vm._v(_vm._s(item.goods_name))]),_c('div',{staticClass:\"for-price\"},[_c('span',[_vm._v(\"￥\"+_vm._s(item.price))]),_c('span',[_vm._v(\"看相似\")])])])}),0):_vm._e(),(!_vm.styleFlag)?_c('div',{staticClass:\"listSecond\"},_vm._l((_vm.forList),function(item,index){return _c('van-card',{key:index,attrs:{\"price\":item.price,\"desc\":item.goods_name,\"thumb\":item.image},on:{\"click\":function($event){return _vm.toInfo(item.goods_id)}},scopedSlots:_vm._u([{key:\"num\",fn:function(){return [_c('span',[_vm._v(\"看相似\")])]},proxy:true}],null,true)})}),1):_vm._e()])],1)]),_c('div',{staticClass:\"icon\",on:{\"click\":_vm.changeStyle}},[_c('van-icon',{attrs:{\"size\":\"32\",\"name\":_vm.iconStyle,\"color\":\"#ccc\"}})],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"for-title\"},[_c('h1',[_vm._v(\"为你推荐\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"headers\"},[_c('van-nav-bar',{attrs:{\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft,\"click-right\":_vm.onClickRight},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [(_vm.iconFlag)?_c('span',[_vm._v(\"登录\")]):_vm._e(),(!_vm.iconFlag)?_c('van-icon',{attrs:{\"name\":\"contact\",\"size\":\"30\",\"color\":\"white\"}}):_vm._e()]},proxy:true},{key:\"title\",fn:function(){return [_c('van-search',{attrs:{\"shape\":\"round\",\"background\":\"red\",\"placeholder\":\"请输入搜索关键词\"},on:{\"focus\":_vm.toSearch},scopedSlots:_vm._u([{key:\"left-icon\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"search\"}})]},proxy:true}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})]},proxy:true},{key:\"left\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"search\"}})]},proxy:true}])}),_c('div',{staticClass:\"banner\"},[_c('van-swipe',{staticClass:\"my-swipe\",attrs:{\"autoplay\":3000,\"indicator-color\":\"white\"}},_vm._l((_vm.bannerList),function(item,index){return _c('van-swipe-item',{key:index},[_c('img',{attrs:{\"src\":item.image,\"alt\":\"\"},on:{\"click\":function($event){return _vm.toInfo(item.url)}}})])}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"headers\">\r\n    <van-nav-bar\r\n      left-arrow\r\n      @click-left=\"onClickLeft\"\r\n      @click-right=\"onClickRight\"\r\n    >\r\n      <template #right>\r\n        <span v-if=\"iconFlag\">登录</span>\r\n        <van-icon v-if=\"!iconFlag\" name=\"contact\" size=\"30\" color=\"white\" />\r\n      </template>\r\n      <template #title>\r\n        <van-search\r\n          v-model=\"value\"\r\n          shape=\"round\"\r\n          background=\"red\"\r\n          placeholder=\"请输入搜索关键词\"\r\n          @focus=\"toSearch\"\r\n        >\r\n          <template #left-icon>\r\n            <van-icon name=\"search\" />\r\n            <!-- <van-icon name=\"search\" /> -->\r\n          </template>\r\n        </van-search>\r\n      </template>\r\n      <template #left>\r\n        <van-icon name=\"search\" />\r\n      </template>\r\n    </van-nav-bar>\r\n    <div class=\"banner\">\r\n      <van-swipe class=\"my-swipe\" :autoplay=\"3000\" indicator-color=\"white\">\r\n        <van-swipe-item v-for=\"(item, index) in bannerList\" :key=\"index\">\r\n          <!-- <router-link :to=\"item.url\"> -->\r\n          <img :src=\"item.image\" @click=\"toInfo(item.url)\" alt=\"\" />\r\n          <!-- </router-link> -->\r\n        </van-swipe-item>\r\n      </van-swipe>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"headers\",\r\n  created() {\r\n    // 判断是否登录\r\n    if (localStorage.token) {\r\n      this.iconFlag = false;\r\n    } else {\r\n      this.iconFlag = true;\r\n    }\r\n    this.axios({\r\n      url: \"https://api.ymduo.com/Home/IndexSep/indexPC\",\r\n      method: \"post\"\r\n    }).then(res => {\r\n      this.bannerList = res.data.result.data.banner;\r\n    });\r\n  },\r\n  methods: {\r\n    onClickLeft() {},\r\n    onClickRight() {\r\n      if (this.iconFlag) {\r\n        location.href = \"/login\";\r\n      } else {\r\n        location.href = \"/my\";\r\n      }\r\n    },\r\n    toSearch() {\r\n      this.$router.push(\"/search\");\r\n    },\r\n    toInfo(url) {\r\n      var id = url.substring(url.indexOf(\"?\") + 8, url.indexOf(\"&\"));\r\n      // console.log(id)\r\n      this.$router.push({ name: \"info\", params: { pid: id } });\r\n    }\r\n  },\r\n  updated() {\r\n    // 登录按钮修改成白色\r\n    document.getElementsByClassName(\"van-nav-bar__right\")[0].style.color =\r\n      \"white\";\r\n  },\r\n  data() {\r\n    return {\r\n      value: \"\",\r\n      bannerList: [],\r\n      iconFlag: true\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.van-search {\r\n  height: 46px;\r\n}\r\n.headers .van-nav-bar {\r\n  background: red;\r\n  .van-icon-search::before {\r\n    color: white;\r\n  }\r\n}\r\n.van-field__left-icon .van-icon-search {\r\n  display: inline-block;\r\n}\r\n.banner {\r\n  width: 90%;\r\n  margin: auto;\r\n}\r\n.my-swipe .van-swipe-item {\r\n  color: #fff;\r\n  font-size: 20px;\r\n  line-height: 150px;\r\n  text-align: center;\r\n  width: 90%;\r\n  img {\r\n    width: 100%;\r\n    height: 140px;\r\n    border-radius: 20px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./header.vue?vue&type=template&id=d1732dbc&scoped=true&\"\nimport script from \"./header.vue?vue&type=script&lang=js&\"\nexport * from \"./header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./header.vue?vue&type=style&index=0&id=d1732dbc&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d1732dbc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"indexnav\"},[_c('van-swipe',{staticClass:\"myswipe\",on:{\"change\":_vm.onChange}},_vm._l((2),function(items,index){return _c('van-swipe-item',{key:index},[_c('div',{staticClass:\"nav-1\"},_vm._l((2),function(items,index){return _c('div',{key:index,staticClass:\"navClass\"},_vm._l((_vm.navdata),function(item,index){return _c('router-link',{key:index,attrs:{\"to\":\"/\"}},[_c('img',{attrs:{\"src\":item.image,\"alt\":\"\"}}),_c('p',[_vm._v(_vm._s(item.names))])])}),1)}),0)])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"indexnav\">\r\n    <van-swipe @change=\"onChange\" class=\"myswipe\">\r\n      <!-- 滑动的每一页 -->\r\n      <van-swipe-item v-for=\"(items, index) in 2\" :key=\"index\">\r\n        <div class=\"nav-1\">\r\n          <div class=\"navClass\" v-for=\"(items, index) in 2\" :key=\"index\">\r\n            <router-link to=\"/\" v-for=\"(item, index) in navdata\" :key=\"index\">\r\n              <img :src=\"item.image\" alt=\"\" />\r\n              <p>{{ item.names }}</p>\r\n            </router-link>\r\n          </div>\r\n        </div>\r\n      </van-swipe-item>\r\n    </van-swipe>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"indexnav\",\r\n  data() {\r\n    return {\r\n      navdata: []\r\n    };\r\n  },\r\n  methods: {\r\n    onChange(index) {\r\n      console.log(index);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.axios({\r\n      url: \"https://api.ymduo.com/Home/IndexSep/indexPC\",\r\n      method: \"post\"\r\n    }).then(res => {\r\n      console.log(res.data.result.data.configure);\r\n      this.navdata = res.data.result.data.configure;\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.indexnav {\r\n  width: 375px;\r\n  height: 162px;\r\n  .myswipe {\r\n    .van-swipe-item {\r\n      width: 375px;\r\n      .nav-1 {\r\n        height: 150px;\r\n      }\r\n      .navClass {\r\n        display: flex;\r\n        justify-content: space-around;\r\n        align-content: center;\r\n        margin: 10px 0;\r\n        text-align: center;\r\n      }\r\n    }\r\n  }\r\n  .van-swipe__indicator--active {\r\n    background-color: red;\r\n  }\r\n  img {\r\n    width: 40px;\r\n    height: 40px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./indexnav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./indexnav.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./indexnav.vue?vue&type=template&id=26660145&scoped=true&\"\nimport script from \"./indexnav.vue?vue&type=script&lang=js&\"\nexport * from \"./indexnav.vue?vue&type=script&lang=js&\"\nimport style0 from \"./indexnav.vue?vue&type=style&index=0&id=26660145&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26660145\",\n  null\n  \n)\n\nexport default component.exports","/*!\n * better-normal-scroll v1.15.2\n * (c) 2016-2019 ustbhuangyi\n * Released under the MIT License.\n */\n// As of V8 6.6, depending on the size of the array, this is anywhere\n// between 1.5-10x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++) {\n    list[index] = list[index + 1];\n  }\n\n  list.pop();\n}\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nfunction eventMixin(BScroll) {\n  BScroll.prototype.on = function (type, fn) {\n    var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this;\n\n    if (!this._events[type]) {\n      this._events[type] = [];\n    }\n\n    this._events[type].push([fn, context]);\n  };\n\n  BScroll.prototype.once = function (type, fn) {\n    var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this;\n\n    function magic() {\n      this.off(type, magic);\n\n      fn.apply(context, arguments);\n    }\n    // To expose the corresponding function method in order to execute the off method\n    magic.fn = fn;\n\n    this.on(type, magic);\n  };\n\n  BScroll.prototype.off = function (type, fn) {\n    var _events = this._events[type];\n    if (!_events) {\n      return;\n    }\n\n    var count = _events.length;\n    while (count--) {\n      if (_events[count][0] === fn || _events[count][0] && _events[count][0].fn === fn) {\n        spliceOne(_events, count);\n      }\n    }\n  };\n\n  BScroll.prototype.trigger = function (type) {\n    var events = this._events[type];\n    if (!events) {\n      return;\n    }\n\n    var len = events.length;\n    var eventsCopy = [].concat(toConsumableArray(events));\n    for (var i = 0; i < len; i++) {\n      var event = eventsCopy[i];\n\n      var _event = slicedToArray(event, 2),\n          fn = _event[0],\n          context = _event[1];\n\n      if (fn) {\n        fn.apply(context, [].slice.call(arguments, 1));\n      }\n    }\n  };\n}\n\n// ssr support\nvar inBrowser = typeof window !== 'undefined';\nvar ua = inBrowser && navigator.userAgent.toLowerCase();\nvar isWeChatDevTools = ua && /wechatdevtools/.test(ua);\nvar isAndroid = ua && ua.indexOf('android') > 0;\n\nfunction getNow() {\n  return window.performance && window.performance.now ? window.performance.now() + window.performance.timing.navigationStart : +new Date();\n}\n\nfunction extend(target) {\n  for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n\n  for (var i = 0; i < rest.length; i++) {\n    var source = rest[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\n\nfunction isUndef(v) {\n  return v === undefined || v === null;\n}\n\nfunction getDistance(x, y) {\n  return Math.sqrt(x * x + y * y);\n}\n\nvar elementStyle = inBrowser && document.createElement('div').style;\n\nvar vendor = function () {\n  if (!inBrowser) {\n    return false;\n  }\n  // first pick up standard to fix #743\n  var transformNames = {\n    standard: 'transform',\n    webkit: 'webkitTransform',\n    Moz: 'MozTransform',\n    O: 'OTransform',\n    ms: 'msTransform'\n  };\n\n  for (var key in transformNames) {\n    if (elementStyle[transformNames[key]] !== undefined) {\n      return key;\n    }\n  }\n\n  return false;\n}();\n\nfunction prefixStyle(style) {\n  if (vendor === false) {\n    return false;\n  }\n\n  if (vendor === 'standard') {\n    if (style === 'transitionEnd') {\n      return 'transitionend';\n    }\n    return style;\n  }\n\n  return vendor + style.charAt(0).toUpperCase() + style.substr(1);\n}\n\nfunction addEvent(el, type, fn, capture) {\n  el.addEventListener(type, fn, { passive: false, capture: !!capture });\n}\n\nfunction removeEvent(el, type, fn, capture) {\n  el.removeEventListener(type, fn, { passive: false, capture: !!capture });\n}\n\nfunction offset(el) {\n  var left = 0;\n  var top = 0;\n\n  while (el) {\n    left -= el.offsetLeft;\n    top -= el.offsetTop;\n    el = el.offsetParent;\n  }\n\n  return {\n    left: left,\n    top: top\n  };\n}\n\nfunction offsetToBody(el) {\n  var rect = el.getBoundingClientRect();\n\n  return {\n    left: -(rect.left + window.pageXOffset),\n    top: -(rect.top + window.pageYOffset)\n  };\n}\n\nvar cssVendor = vendor && vendor !== 'standard' ? '-' + vendor.toLowerCase() + '-' : '';\n\nvar transform = prefixStyle('transform');\nvar transition = prefixStyle('transition');\n\nvar hasPerspective = inBrowser && prefixStyle('perspective') in elementStyle;\n// fix issue #361\nvar hasTouch = inBrowser && ('ontouchstart' in window || isWeChatDevTools);\nvar hasTransform = transform !== false;\nvar hasTransition = inBrowser && transition in elementStyle;\n\nvar style = {\n  transform: transform,\n  transition: transition,\n  transitionTimingFunction: prefixStyle('transitionTimingFunction'),\n  transitionDuration: prefixStyle('transitionDuration'),\n  transitionDelay: prefixStyle('transitionDelay'),\n  transformOrigin: prefixStyle('transformOrigin'),\n  transitionEnd: prefixStyle('transitionEnd')\n};\n\nvar TOUCH_EVENT = 1;\nvar MOUSE_EVENT = 2;\n\nvar eventType = {\n  touchstart: TOUCH_EVENT,\n  touchmove: TOUCH_EVENT,\n  touchend: TOUCH_EVENT,\n\n  mousedown: MOUSE_EVENT,\n  mousemove: MOUSE_EVENT,\n  mouseup: MOUSE_EVENT\n};\n\nfunction getRect(el) {\n  if (el instanceof window.SVGElement) {\n    var rect = el.getBoundingClientRect();\n    return {\n      top: rect.top,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height\n    };\n  } else {\n    return {\n      top: el.offsetTop,\n      left: el.offsetLeft,\n      width: el.offsetWidth,\n      height: el.offsetHeight\n    };\n  }\n}\n\nfunction preventDefaultException(el, exceptions) {\n  for (var i in exceptions) {\n    if (exceptions[i].test(el[i])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction tap(e, eventName) {\n  var ev = document.createEvent('Event');\n  ev.initEvent(eventName, true, true);\n  ev.pageX = e.pageX;\n  ev.pageY = e.pageY;\n  e.target.dispatchEvent(ev);\n}\n\nfunction click(e) {\n  var event = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'click';\n\n  var eventSource = void 0;\n  if (e.type === 'mouseup' || e.type === 'mousecancel') {\n    eventSource = e;\n  } else if (e.type === 'touchend' || e.type === 'touchcancel') {\n    eventSource = e.changedTouches[0];\n  }\n  var posSrc = {};\n  if (eventSource) {\n    posSrc.screenX = eventSource.screenX || 0;\n    posSrc.screenY = eventSource.screenY || 0;\n    posSrc.clientX = eventSource.clientX || 0;\n    posSrc.clientY = eventSource.clientY || 0;\n  }\n  var ev = void 0;\n  var bubbles = true;\n  var cancelable = true;\n  if (typeof MouseEvent !== 'undefined') {\n    try {\n      ev = new MouseEvent(event, extend({\n        bubbles: bubbles,\n        cancelable: cancelable\n      }, posSrc));\n    } catch (e) {\n      createEvent();\n    }\n  } else {\n    createEvent();\n  }\n\n  function createEvent() {\n    ev = document.createEvent('Event');\n    ev.initEvent(event, bubbles, cancelable);\n    extend(ev, posSrc);\n  }\n\n  // forwardedTouchEvent set to true in case of the conflict with fastclick\n  ev.forwardedTouchEvent = true;\n  ev._constructed = true;\n  e.target.dispatchEvent(ev);\n}\n\nfunction dblclick(e) {\n  click(e, 'dblclick');\n}\n\nfunction prepend(el, target) {\n  if (target.firstChild) {\n    before(el, target.firstChild);\n  } else {\n    target.appendChild(el);\n  }\n}\n\nfunction before(el, target) {\n  target.parentNode.insertBefore(el, target);\n}\n\nfunction removeChild(el, child) {\n  el.removeChild(child);\n}\n\nvar DEFAULT_OPTIONS = {\n  startX: 0,\n  startY: 0,\n  scrollX: false,\n  scrollY: true,\n  freeScroll: false,\n  directionLockThreshold: 5,\n  eventPassthrough: '',\n  click: false,\n  tap: false,\n  /**\n   * support any side\n   * bounce: {\n   *   top: true,\n   *   bottom: true,\n   *   left: true,\n   *   right: true\n   * }\n   */\n  bounce: true,\n  bounceTime: 800,\n  momentum: true,\n  momentumLimitTime: 300,\n  momentumLimitDistance: 15,\n  swipeTime: 2500,\n  swipeBounceTime: 500,\n  deceleration: 0.0015,\n  flickLimitTime: 200,\n  flickLimitDistance: 100,\n  resizePolling: 60,\n  probeType: 0,\n  preventDefault: true,\n  preventDefaultException: {\n    tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/\n  },\n  HWCompositing: true,\n  useTransition: true,\n  useTransform: true,\n  bindToWrapper: false,\n  disableMouse: hasTouch,\n  disableTouch: !hasTouch,\n  observeDOM: true,\n  autoBlur: true,\n  /**\n   * for picker\n   * wheel: {\n   *   selectedIndex: 0,\n   *   rotate: 25,\n   *   adjustTime: 400\n   *   wheelWrapperClass: 'wheel-scroll',\n   *   wheelItemClass: 'wheel-item'\n   * }\n   */\n  wheel: false,\n  /**\n   * for slide\n   * snap: {\n   *   loop: false,\n   *   el: domEl,\n   *   threshold: 0.1,\n   *   stepX: 100,\n   *   stepY: 100,\n   *   speed: 400,\n   *   easing: {\n   *     style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n   *     fn: function (t) {\n   *       return t * (2 - t)\n   *     }\n   *   }\n   *   listenFlick: true\n   * }\n   */\n  snap: false,\n  /**\n   * for scrollbar\n   * scrollbar: {\n   *   fade: true,\n   *   interactive: false\n   * }\n   */\n  scrollbar: false,\n  /**\n   * for pull down and refresh\n   * pullDownRefresh: {\n   *   threshold: 50,\n   *   stop: 20\n   * }\n   */\n  pullDownRefresh: false,\n  /**\n   * for pull up and load\n   * pullUpLoad: {\n   *   threshold: 50\n   * }\n   */\n  pullUpLoad: false,\n  /**\n   * for mouse wheel\n   * mouseWheel: {\n   *   speed: 20,\n   *   invert: false,\n   *   easeTime: 300\n   * }\n   */\n  mouseWheel: false,\n  stopPropagation: false,\n  /**\n   * for zoom\n   * zoom: {\n   *   start: 1,\n   *   min: 1,\n   *   max: 4\n   * }\n   */\n  zoom: false,\n  /**\n   * for infinity\n   * infinity: {\n   *   render(item, div) {\n   *   },\n   *   createTombstone() {\n   *   },\n   *   fetch(count) {\n   *   }\n   * }\n   */\n  infinity: false,\n  /**\n   * for double click\n   * dblclick: {\n   *   delay: 300\n   * }\n   */\n  dblclick: false\n};\n\nfunction initMixin(BScroll) {\n  BScroll.prototype._init = function (options) {\n    this._handleOptions(options);\n\n    // init private custom events\n    this._events = {};\n\n    this.x = 0;\n    this.y = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n\n    this.setScale(1);\n\n    this._addDOMEvents();\n\n    this._initExtFeatures();\n\n    this._watchTransition();\n\n    if (this.options.observeDOM) {\n      this._initDOMObserver();\n    }\n\n    if (this.options.autoBlur) {\n      this._handleAutoBlur();\n    }\n\n    this.refresh();\n\n    if (!this.options.snap) {\n      this.scrollTo(this.options.startX, this.options.startY);\n    }\n\n    this.enable();\n  };\n\n  BScroll.prototype.setScale = function (scale) {\n    this.lastScale = isUndef(this.scale) ? scale : this.scale;\n    this.scale = scale;\n  };\n\n  BScroll.prototype._handleOptions = function (options) {\n    this.options = extend({}, DEFAULT_OPTIONS, options);\n\n    this.translateZ = this.options.HWCompositing && hasPerspective ? ' translateZ(0)' : '';\n\n    this.options.useTransition = this.options.useTransition && hasTransition;\n    this.options.useTransform = this.options.useTransform && hasTransform;\n\n    this.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault;\n\n    // If you want eventPassthrough I have to lock one of the axes\n    this.options.scrollX = this.options.eventPassthrough === 'horizontal' ? false : this.options.scrollX;\n    this.options.scrollY = this.options.eventPassthrough === 'vertical' ? false : this.options.scrollY;\n\n    // With eventPassthrough we also need lockDirection mechanism\n    this.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough;\n    this.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold;\n\n    if (this.options.tap === true) {\n      this.options.tap = 'tap';\n    }\n  };\n\n  BScroll.prototype._addDOMEvents = function () {\n    var eventOperation = addEvent;\n    this._handleDOMEvents(eventOperation);\n  };\n\n  BScroll.prototype._removeDOMEvents = function () {\n    var eventOperation = removeEvent;\n    this._handleDOMEvents(eventOperation);\n  };\n\n  BScroll.prototype._handleDOMEvents = function (eventOperation) {\n    var target = this.options.bindToWrapper ? this.wrapper : window;\n    eventOperation(window, 'orientationchange', this);\n    eventOperation(window, 'resize', this);\n\n    if (this.options.click) {\n      eventOperation(this.wrapper, 'click', this, true);\n    }\n\n    if (!this.options.disableMouse) {\n      eventOperation(this.wrapper, 'mousedown', this);\n      eventOperation(target, 'mousemove', this);\n      eventOperation(target, 'mousecancel', this);\n      eventOperation(target, 'mouseup', this);\n    }\n\n    if (hasTouch && !this.options.disableTouch) {\n      eventOperation(this.wrapper, 'touchstart', this);\n      eventOperation(target, 'touchmove', this);\n      eventOperation(target, 'touchcancel', this);\n      eventOperation(target, 'touchend', this);\n    }\n\n    eventOperation(this.scroller, style.transitionEnd, this);\n  };\n\n  BScroll.prototype._initExtFeatures = function () {\n    if (this.options.snap) {\n      this._initSnap();\n    }\n    if (this.options.scrollbar) {\n      this._initScrollbar();\n    }\n    if (this.options.pullUpLoad) {\n      this._initPullUp();\n    }\n    if (this.options.pullDownRefresh) {\n      this._initPullDown();\n    }\n    if (this.options.wheel) {\n      this._initWheel();\n    }\n    if (this.options.mouseWheel) {\n      this._initMouseWheel();\n    }\n    if (this.options.zoom) {\n      this._initZoom();\n    }\n    if (this.options.infinity) {\n      this._initInfinite();\n    }\n  };\n\n  BScroll.prototype._watchTransition = function () {\n    if (typeof Object.defineProperty !== 'function') {\n      return;\n    }\n    var me = this;\n    var isInTransition = false;\n    var key = this.options.useTransition ? 'isInTransition' : 'isAnimating';\n    Object.defineProperty(this, key, {\n      get: function get() {\n        return isInTransition;\n      },\n      set: function set(newVal) {\n        isInTransition = newVal;\n        // fix issue #359\n        var el = me.scroller.children.length ? me.scroller.children : [me.scroller];\n        var pointerEvents = isInTransition && !me.pulling ? 'none' : 'auto';\n        for (var i = 0; i < el.length; i++) {\n          el[i].style.pointerEvents = pointerEvents;\n        }\n      }\n    });\n  };\n\n  BScroll.prototype._handleAutoBlur = function () {\n    this.on('scrollStart', function () {\n      var activeElement = document.activeElement;\n      if (activeElement && (activeElement.tagName === 'INPUT' || activeElement.tagName === 'TEXTAREA')) {\n        activeElement.blur();\n      }\n    });\n  };\n\n  BScroll.prototype._initDOMObserver = function () {\n    var _this = this;\n\n    if (typeof MutationObserver !== 'undefined') {\n      var timer = void 0;\n      var observer = new MutationObserver(function (mutations) {\n        // don't do any refresh during the transition, or outside of the boundaries\n        if (_this._shouldNotRefresh()) {\n          return;\n        }\n        var immediateRefresh = false;\n        var deferredRefresh = false;\n        for (var i = 0; i < mutations.length; i++) {\n          var mutation = mutations[i];\n          if (mutation.type !== 'attributes') {\n            immediateRefresh = true;\n            break;\n          } else {\n            if (mutation.target !== _this.scroller) {\n              deferredRefresh = true;\n              break;\n            }\n          }\n        }\n        if (immediateRefresh) {\n          _this.refresh();\n        } else if (deferredRefresh) {\n          // attributes changes too often\n          clearTimeout(timer);\n          timer = setTimeout(function () {\n            if (!_this._shouldNotRefresh()) {\n              _this.refresh();\n            }\n          }, 60);\n        }\n      });\n      var config = {\n        attributes: true,\n        childList: true,\n        subtree: true\n      };\n      observer.observe(this.scroller, config);\n\n      this.on('destroy', function () {\n        observer.disconnect();\n      });\n    } else {\n      this._checkDOMUpdate();\n    }\n  };\n\n  BScroll.prototype._shouldNotRefresh = function () {\n    var outsideBoundaries = this.x > this.minScrollX || this.x < this.maxScrollX || this.y > this.minScrollY || this.y < this.maxScrollY;\n\n    return this.isInTransition || this.stopFromTransition || outsideBoundaries;\n  };\n\n  BScroll.prototype._checkDOMUpdate = function () {\n    var scrollerRect = getRect(this.scroller);\n    var oldWidth = scrollerRect.width;\n    var oldHeight = scrollerRect.height;\n\n    function check() {\n      if (this.destroyed) {\n        return;\n      }\n      scrollerRect = getRect(this.scroller);\n      var newWidth = scrollerRect.width;\n      var newHeight = scrollerRect.height;\n\n      if (oldWidth !== newWidth || oldHeight !== newHeight) {\n        this.refresh();\n      }\n      oldWidth = newWidth;\n      oldHeight = newHeight;\n\n      next.call(this);\n    }\n\n    function next() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        check.call(_this2);\n      }, 1000);\n    }\n\n    next.call(this);\n  };\n\n  BScroll.prototype.handleEvent = function (e) {\n    switch (e.type) {\n      case 'touchstart':\n      case 'mousedown':\n        this._start(e);\n        if (this.options.zoom && e.touches && e.touches.length > 1) {\n          this._zoomStart(e);\n        }\n        break;\n      case 'touchmove':\n      case 'mousemove':\n        if (this.options.zoom && e.touches && e.touches.length > 1) {\n          this._zoom(e);\n        } else {\n          this._move(e);\n        }\n        break;\n      case 'touchend':\n      case 'mouseup':\n      case 'touchcancel':\n      case 'mousecancel':\n        if (this.scaled) {\n          this._zoomEnd(e);\n        } else {\n          this._end(e);\n        }\n        break;\n      case 'orientationchange':\n      case 'resize':\n        this._resize();\n        break;\n      case 'transitionend':\n      case 'webkitTransitionEnd':\n      case 'oTransitionEnd':\n      case 'MSTransitionEnd':\n        this._transitionEnd(e);\n        break;\n      case 'click':\n        if (this.enabled && !e._constructed) {\n          if (!preventDefaultException(e.target, this.options.preventDefaultException)) {\n            e.preventDefault();\n            e.stopPropagation();\n          }\n        }\n        break;\n      case 'wheel':\n      case 'DOMMouseScroll':\n      case 'mousewheel':\n        this._onMouseWheel(e);\n        break;\n    }\n  };\n\n  BScroll.prototype.refresh = function () {\n    var isWrapperStatic = window.getComputedStyle(this.wrapper, null).position === 'static';\n    var wrapperRect = getRect(this.wrapper);\n    this.wrapperWidth = wrapperRect.width;\n    this.wrapperHeight = wrapperRect.height;\n\n    var scrollerRect = getRect(this.scroller);\n    this.scrollerWidth = Math.round(scrollerRect.width * this.scale);\n    this.scrollerHeight = Math.round(scrollerRect.height * this.scale);\n\n    this.relativeX = scrollerRect.left;\n    this.relativeY = scrollerRect.top;\n\n    if (isWrapperStatic) {\n      this.relativeX -= wrapperRect.left;\n      this.relativeY -= wrapperRect.top;\n    }\n\n    this.minScrollX = 0;\n    this.minScrollY = 0;\n\n    var wheel = this.options.wheel;\n    if (wheel) {\n      this.items = this.scroller.children;\n      // check whether there are all disable items or not when refresh\n      this._checkWheelAllDisabled();\n      this.options.itemHeight = this.itemHeight = this.items.length ? this.scrollerHeight / this.items.length : 0;\n      if (this.selectedIndex === undefined) {\n        this.selectedIndex = wheel.selectedIndex || 0;\n      }\n      this.options.startY = -this.selectedIndex * this.itemHeight;\n\n      this.maxScrollX = 0;\n      this.maxScrollY = -this.itemHeight * (this.items.length - 1);\n    } else {\n      this.maxScrollX = this.wrapperWidth - this.scrollerWidth;\n      if (!this.options.infinity) {\n        this.maxScrollY = this.wrapperHeight - this.scrollerHeight;\n      }\n      if (this.maxScrollX < 0) {\n        this.maxScrollX -= this.relativeX;\n        this.minScrollX = -this.relativeX;\n      } else if (this.scale > 1) {\n        this.maxScrollX = this.maxScrollX / 2 - this.relativeX;\n        this.minScrollX = this.maxScrollX;\n      }\n      if (this.maxScrollY < 0) {\n        this.maxScrollY -= this.relativeY;\n        this.minScrollY = -this.relativeY;\n      } else if (this.scale > 1) {\n        this.maxScrollY = this.maxScrollY / 2 - this.relativeY;\n        this.minScrollY = this.maxScrollY;\n      }\n    }\n\n    this.hasHorizontalScroll = this.options.scrollX && this.maxScrollX < this.minScrollX;\n    this.hasVerticalScroll = this.options.scrollY && this.maxScrollY < this.minScrollY;\n\n    if (!this.hasHorizontalScroll) {\n      this.maxScrollX = this.minScrollX;\n      this.scrollerWidth = this.wrapperWidth;\n    }\n\n    if (!this.hasVerticalScroll) {\n      this.maxScrollY = this.minScrollY;\n      this.scrollerHeight = this.wrapperHeight;\n    }\n\n    this.endTime = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n    this.wrapperOffset = offset(this.wrapper);\n\n    this.trigger('refresh');\n\n    !this.scaled && this.resetPosition();\n  };\n\n  BScroll.prototype.enable = function () {\n    this.enabled = true;\n  };\n\n  BScroll.prototype.disable = function () {\n    this.enabled = false;\n  };\n}\n\nvar ease = {\n  // easeOutQuint\n  swipe: {\n    style: 'cubic-bezier(0.23, 1, 0.32, 1)',\n    fn: function fn(t) {\n      return 1 + --t * t * t * t * t;\n    }\n  },\n  // easeOutQuard\n  swipeBounce: {\n    style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n    fn: function fn(t) {\n      return t * (2 - t);\n    }\n  },\n  // easeOutQuart\n  bounce: {\n    style: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\n    fn: function fn(t) {\n      return 1 - --t * t * t * t;\n    }\n  }\n};\n\nfunction momentum(current, start, time, lowerMargin, upperMargin, wrapperSize, options, scroll) {\n  var distance = current - start;\n  var speed = Math.abs(distance) / time;\n\n  var deceleration = options.deceleration,\n      itemHeight = options.itemHeight,\n      swipeBounceTime = options.swipeBounceTime,\n      wheel = options.wheel,\n      swipeTime = options.swipeTime;\n\n  var duration = swipeTime;\n  var rate = wheel ? 4 : 15;\n\n  var destination = current + speed / deceleration * (distance < 0 ? -1 : 1);\n\n  if (wheel && itemHeight) {\n    destination = scroll._findNearestValidWheel(destination).y;\n  }\n\n  if (destination < lowerMargin) {\n    destination = wrapperSize ? Math.max(lowerMargin - wrapperSize / 4, lowerMargin - wrapperSize / rate * speed) : lowerMargin;\n    duration = swipeBounceTime;\n  } else if (destination > upperMargin) {\n    destination = wrapperSize ? Math.min(upperMargin + wrapperSize / 4, upperMargin + wrapperSize / rate * speed) : upperMargin;\n    duration = swipeBounceTime;\n  }\n\n  return {\n    destination: Math.round(destination),\n    duration: duration\n  };\n}\n\nvar DEFAULT_INTERVAL = 100 / 60;\n\nfunction noop() {}\n\nvar requestAnimationFrame = function () {\n  if (!inBrowser) {\n    /* istanbul ignore if */\n    return noop;\n  }\n  return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame ||\n  // if all else fails, use setTimeout\n  function (callback) {\n    return window.setTimeout(callback, (callback.interval || DEFAULT_INTERVAL) / 2); // make interval as precise as possible.\n  };\n}();\n\nvar cancelAnimationFrame = function () {\n  if (!inBrowser) {\n    /* istanbul ignore if */\n    return noop;\n  }\n  return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || function (id) {\n    window.clearTimeout(id);\n  };\n}();\n\nvar DIRECTION_UP = 1;\nvar DIRECTION_DOWN = -1;\nvar DIRECTION_LEFT = 1;\nvar DIRECTION_RIGHT = -1;\n\nvar PROBE_DEBOUNCE = 1;\n\nvar PROBE_REALTIME = 3;\n\nfunction warn(msg) {\n  console.error('[BScroll warn]: ' + msg);\n}\n\nfunction assert(condition, msg) {\n  if (!condition) {\n    throw new Error('[BScroll] ' + msg);\n  }\n}\n\nfunction coreMixin(BScroll) {\n  BScroll.prototype._start = function (e) {\n    var _eventType = eventType[e.type];\n    if (_eventType !== TOUCH_EVENT) {\n      if (e.button !== 0) {\n        return;\n      }\n    }\n    if (!this.enabled || this.destroyed || this.initiated && this.initiated !== _eventType) {\n      return;\n    }\n    this.initiated = _eventType;\n\n    if (this.options.preventDefault && !preventDefaultException(e.target, this.options.preventDefaultException)) {\n      e.preventDefault();\n    }\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    this.moved = false;\n    this.distX = 0;\n    this.distY = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n    this.movingDirectionX = 0;\n    this.movingDirectionY = 0;\n    this.directionLocked = 0;\n\n    this._transitionTime();\n    this.startTime = getNow();\n\n    if (this.options.wheel) {\n      this.target = e.target;\n    }\n\n    this.stop();\n\n    var point = e.touches ? e.touches[0] : e;\n\n    this.startX = this.x;\n    this.startY = this.y;\n    this.absStartX = this.x;\n    this.absStartY = this.y;\n    this.pointX = point.pageX;\n    this.pointY = point.pageY;\n\n    this.trigger('beforeScrollStart');\n  };\n\n  BScroll.prototype._move = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n\n    if (this.options.preventDefault) {\n      e.preventDefault();\n    }\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    var point = e.touches ? e.touches[0] : e;\n    var deltaX = point.pageX - this.pointX;\n    var deltaY = point.pageY - this.pointY;\n\n    this.pointX = point.pageX;\n    this.pointY = point.pageY;\n\n    this.distX += deltaX;\n    this.distY += deltaY;\n\n    var absDistX = Math.abs(this.distX);\n    var absDistY = Math.abs(this.distY);\n\n    var timestamp = getNow();\n\n    // We need to move at least momentumLimitDistance pixels for the scrolling to initiate\n    if (timestamp - this.endTime > this.options.momentumLimitTime && !this.moved && absDistY < this.options.momentumLimitDistance && absDistX < this.options.momentumLimitDistance) {\n      return;\n    }\n\n    // If you are scrolling in one direction lock the other\n    if (!this.directionLocked && !this.options.freeScroll) {\n      if (absDistX > absDistY + this.options.directionLockThreshold) {\n        this.directionLocked = 'h'; // lock horizontally\n      } else if (absDistY >= absDistX + this.options.directionLockThreshold) {\n        this.directionLocked = 'v'; // lock vertically\n      } else {\n        this.directionLocked = 'n'; // no lock\n      }\n    }\n\n    if (this.directionLocked === 'h') {\n      if (this.options.eventPassthrough === 'vertical') {\n        e.preventDefault();\n      } else if (this.options.eventPassthrough === 'horizontal') {\n        this.initiated = false;\n        return;\n      }\n      deltaY = 0;\n    } else if (this.directionLocked === 'v') {\n      if (this.options.eventPassthrough === 'horizontal') {\n        e.preventDefault();\n      } else if (this.options.eventPassthrough === 'vertical') {\n        this.initiated = false;\n        return;\n      }\n      deltaX = 0;\n    }\n\n    deltaX = this.hasHorizontalScroll ? deltaX : 0;\n    deltaY = this.hasVerticalScroll ? deltaY : 0;\n    this.movingDirectionX = deltaX > 0 ? DIRECTION_RIGHT : deltaX < 0 ? DIRECTION_LEFT : 0;\n    this.movingDirectionY = deltaY > 0 ? DIRECTION_DOWN : deltaY < 0 ? DIRECTION_UP : 0;\n\n    var newX = this.x + deltaX;\n    var newY = this.y + deltaY;\n\n    var top = false;\n    var bottom = false;\n    var left = false;\n    var right = false;\n    // Slow down or stop if outside of the boundaries\n    var bounce = this.options.bounce;\n    if (bounce !== false) {\n      top = bounce.top === undefined ? true : bounce.top;\n      bottom = bounce.bottom === undefined ? true : bounce.bottom;\n      left = bounce.left === undefined ? true : bounce.left;\n      right = bounce.right === undefined ? true : bounce.right;\n    }\n    if (newX > this.minScrollX || newX < this.maxScrollX) {\n      if (newX > this.minScrollX && left || newX < this.maxScrollX && right) {\n        newX = this.x + deltaX / 3;\n      } else {\n        newX = newX > this.minScrollX ? this.minScrollX : this.maxScrollX;\n      }\n    }\n    if (newY > this.minScrollY || newY < this.maxScrollY) {\n      if (newY > this.minScrollY && top || newY < this.maxScrollY && bottom) {\n        newY = this.y + deltaY / 3;\n      } else {\n        newY = newY > this.minScrollY ? this.minScrollY : this.maxScrollY;\n      }\n    }\n\n    if (!this.moved) {\n      this.moved = true;\n      this.trigger('scrollStart');\n    }\n\n    this._translate(newX, newY);\n\n    if (timestamp - this.startTime > this.options.momentumLimitTime) {\n      this.startTime = timestamp;\n      this.startX = this.x;\n      this.startY = this.y;\n\n      if (this.options.probeType === PROBE_DEBOUNCE) {\n        this.trigger('scroll', {\n          x: this.x,\n          y: this.y\n        });\n      }\n    }\n\n    if (this.options.probeType > PROBE_DEBOUNCE) {\n      this.trigger('scroll', {\n        x: this.x,\n        y: this.y\n      });\n    }\n\n    var scrollLeft = document.documentElement.scrollLeft || window.pageXOffset || document.body.scrollLeft;\n    var scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n\n    var pX = this.pointX - scrollLeft;\n    var pY = this.pointY - scrollTop;\n\n    if (pX > document.documentElement.clientWidth - this.options.momentumLimitDistance || pX < this.options.momentumLimitDistance || pY < this.options.momentumLimitDistance || pY > document.documentElement.clientHeight - this.options.momentumLimitDistance) {\n      this._end(e);\n    }\n  };\n\n  BScroll.prototype._end = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n    this.initiated = false;\n\n    if (this.options.preventDefault && !preventDefaultException(e.target, this.options.preventDefaultException)) {\n      e.preventDefault();\n    }\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    this.trigger('touchEnd', {\n      x: this.x,\n      y: this.y\n    });\n\n    this.isInTransition = false;\n\n    // ensures that the last position is rounded\n    var newX = Math.round(this.x);\n    var newY = Math.round(this.y);\n\n    var deltaX = newX - this.absStartX;\n    var deltaY = newY - this.absStartY;\n    this.directionX = deltaX > 0 ? DIRECTION_RIGHT : deltaX < 0 ? DIRECTION_LEFT : 0;\n    this.directionY = deltaY > 0 ? DIRECTION_DOWN : deltaY < 0 ? DIRECTION_UP : 0;\n\n    // if configure pull down refresh, check it first\n    if (this.options.pullDownRefresh && this._checkPullDown()) {\n      return;\n    }\n\n    // check if it is a click operation\n    if (this._checkClick(e)) {\n      this.trigger('scrollCancel');\n      return;\n    }\n\n    // reset if we are outside of the boundaries\n    if (this.resetPosition(this.options.bounceTime, ease.bounce)) {\n      return;\n    }\n\n    this._translate(newX, newY);\n\n    this.endTime = getNow();\n    var duration = this.endTime - this.startTime;\n    var absDistX = Math.abs(newX - this.startX);\n    var absDistY = Math.abs(newY - this.startY);\n\n    // flick\n    if (this._events.flick && duration < this.options.flickLimitTime && absDistX < this.options.flickLimitDistance && absDistY < this.options.flickLimitDistance) {\n      this.trigger('flick');\n      return;\n    }\n\n    var time = 0;\n    // start momentum animation if needed\n    if (this.options.momentum && duration < this.options.momentumLimitTime && (absDistY > this.options.momentumLimitDistance || absDistX > this.options.momentumLimitDistance)) {\n      var top = false;\n      var bottom = false;\n      var left = false;\n      var right = false;\n      var bounce = this.options.bounce;\n      if (bounce !== false) {\n        top = bounce.top === undefined ? true : bounce.top;\n        bottom = bounce.bottom === undefined ? true : bounce.bottom;\n        left = bounce.left === undefined ? true : bounce.left;\n        right = bounce.right === undefined ? true : bounce.right;\n      }\n      var wrapperWidth = this.directionX === DIRECTION_RIGHT && left || this.directionX === DIRECTION_LEFT && right ? this.wrapperWidth : 0;\n      var wrapperHeight = this.directionY === DIRECTION_DOWN && top || this.directionY === DIRECTION_UP && bottom ? this.wrapperHeight : 0;\n      var momentumX = this.hasHorizontalScroll ? momentum(this.x, this.startX, duration, this.maxScrollX, this.minScrollX, wrapperWidth, this.options, this) : { destination: newX, duration: 0 };\n      var momentumY = this.hasVerticalScroll ? momentum(this.y, this.startY, duration, this.maxScrollY, this.minScrollY, wrapperHeight, this.options, this) : { destination: newY, duration: 0 };\n      newX = momentumX.destination;\n      newY = momentumY.destination;\n      time = Math.max(momentumX.duration, momentumY.duration);\n      this.isInTransition = true;\n    } else {\n      if (this.options.wheel) {\n        newY = this._findNearestValidWheel(newY).y;\n        time = this.options.wheel.adjustTime || 400;\n      }\n    }\n\n    var easing = ease.swipe;\n    if (this.options.snap) {\n      var snap = this._nearestSnap(newX, newY);\n      this.currentPage = snap;\n      time = this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(newX - snap.x), 1000), Math.min(Math.abs(newY - snap.y), 1000)), 300);\n      newX = snap.x;\n      newY = snap.y;\n\n      this.directionX = 0;\n      this.directionY = 0;\n      easing = this.options.snap.easing || ease.bounce;\n    }\n\n    if (newX !== this.x || newY !== this.y) {\n      // change easing function when scroller goes out of the boundaries\n      if (newX > this.minScrollX || newX < this.maxScrollX || newY > this.minScrollY || newY < this.maxScrollY) {\n        easing = ease.swipeBounce;\n      }\n      this.scrollTo(newX, newY, time, easing);\n      return;\n    }\n\n    if (this.options.wheel) {\n      this.selectedIndex = this._findNearestValidWheel(this.y).index;\n    }\n\n    this.trigger('scrollEnd', {\n      x: this.x,\n      y: this.y\n    });\n  };\n\n  BScroll.prototype._checkClick = function (e) {\n    // when in the process of pulling down, it should not prevent click\n    var preventClick = this.stopFromTransition && !this.pulling;\n    this.stopFromTransition = false;\n\n    // we scrolled less than 15 pixels\n    if (!this.moved) {\n      if (this.options.wheel) {\n        if (this.target && this.target.className === this.options.wheel.wheelWrapperClass) {\n          var index = this._findNearestValidWheel(this.y).index;\n          var _offset = Math.round((this.pointY + offsetToBody(this.wrapper).top - this.wrapperHeight / 2) / this.itemHeight);\n          this.target = this.items[index + _offset];\n        }\n        var top = offset(this.target).top;\n        var left = offset(this.target).left;\n        top -= this.wrapperOffset.top;\n        top -= Math.round(this.target.offsetHeight / 2 - this.wrapper.offsetHeight / 2) || 0;\n        left -= this.wrapperOffset.left;\n        left -= Math.round(this.target.offsetWidth / 2 - this.wrapper.offsetWidth / 2) || 0;\n\n        top = this._findNearestValidWheel(top).y;\n        this.scrollTo(left, top, this.options.wheel.adjustTime || 400, ease.swipe);\n        return true;\n      } else {\n        if (!preventClick) {\n          var _dblclick = this.options.dblclick;\n          var dblclickTrigged = false;\n          if (_dblclick && this.lastClickTime) {\n            var _dblclick$delay = _dblclick.delay,\n                delay = _dblclick$delay === undefined ? 300 : _dblclick$delay;\n\n            if (getNow() - this.lastClickTime < delay) {\n              dblclickTrigged = true;\n              dblclick(e);\n            }\n          }\n          if (this.options.tap) {\n            tap(e, this.options.tap);\n          }\n\n          if (this.options.click && !preventDefaultException(e.target, this.options.preventDefaultException)) {\n            click(e);\n          }\n          this.lastClickTime = dblclickTrigged ? null : getNow();\n          return true;\n        }\n        return false;\n      }\n    }\n    return false;\n  };\n\n  BScroll.prototype._resize = function () {\n    var _this = this;\n\n    if (!this.enabled) {\n      return;\n    }\n    // fix a scroll problem under Android condition\n    if (isAndroid) {\n      this.wrapper.scrollTop = 0;\n    }\n    clearTimeout(this.resizeTimeout);\n    this.resizeTimeout = setTimeout(function () {\n      _this.refresh();\n    }, this.options.resizePolling);\n  };\n\n  BScroll.prototype._startProbe = function () {\n    cancelAnimationFrame(this.probeTimer);\n    this.probeTimer = requestAnimationFrame(probe);\n\n    var me = this;\n\n    function probe() {\n      var pos = me.getComputedPosition();\n      me.trigger('scroll', pos);\n      if (!me.isInTransition) {\n        me.trigger('scrollEnd', pos);\n        return;\n      }\n      me.probeTimer = requestAnimationFrame(probe);\n    }\n  };\n\n  BScroll.prototype._transitionTime = function () {\n    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n    this.scrollerStyle[style.transitionDuration] = time + 'ms';\n\n    if (this.options.wheel) {\n      for (var i = 0; i < this.items.length; i++) {\n        this.items[i].style[style.transitionDuration] = time + 'ms';\n      }\n    }\n\n    if (this.indicators) {\n      for (var _i = 0; _i < this.indicators.length; _i++) {\n        this.indicators[_i].transitionTime(time);\n      }\n    }\n  };\n\n  BScroll.prototype._transitionTimingFunction = function (easing) {\n    this.scrollerStyle[style.transitionTimingFunction] = easing;\n\n    if (this.options.wheel) {\n      for (var i = 0; i < this.items.length; i++) {\n        this.items[i].style[style.transitionTimingFunction] = easing;\n      }\n    }\n\n    if (this.indicators) {\n      for (var _i2 = 0; _i2 < this.indicators.length; _i2++) {\n        this.indicators[_i2].transitionTimingFunction(easing);\n      }\n    }\n  };\n\n  BScroll.prototype._transitionEnd = function (e) {\n    if (e.target !== this.scroller || !this.isInTransition) {\n      return;\n    }\n\n    this._transitionTime();\n    var needReset = !this.pulling || this.movingDirectionY === DIRECTION_UP;\n    if (needReset && !this.resetPosition(this.options.bounceTime, ease.bounce)) {\n      this.isInTransition = false;\n      if (this.options.probeType !== PROBE_REALTIME) {\n        this.trigger('scrollEnd', {\n          x: this.x,\n          y: this.y\n        });\n      }\n    }\n  };\n\n  BScroll.prototype._translate = function (x, y, scale) {\n    assert(!isUndef(x) && !isUndef(y), 'Translate x or y is null or undefined.');\n    if (isUndef(scale)) {\n      scale = this.scale;\n    }\n    if (this.options.useTransform) {\n      this.scrollerStyle[style.transform] = 'translate(' + x + 'px,' + y + 'px) scale(' + scale + ')' + this.translateZ;\n    } else {\n      x = Math.round(x);\n      y = Math.round(y);\n      this.scrollerStyle.left = x + 'px';\n      this.scrollerStyle.top = y + 'px';\n    }\n\n    if (this.options.wheel) {\n      var _options$wheel$rotate = this.options.wheel.rotate,\n          rotate = _options$wheel$rotate === undefined ? 25 : _options$wheel$rotate;\n\n      for (var i = 0; i < this.items.length; i++) {\n        var deg = rotate * (y / this.itemHeight + i);\n        this.items[i].style[style.transform] = 'rotateX(' + deg + 'deg)';\n      }\n    }\n\n    this.x = x;\n    this.y = y;\n    this.setScale(scale);\n\n    if (this.indicators) {\n      for (var _i3 = 0; _i3 < this.indicators.length; _i3++) {\n        this.indicators[_i3].updatePosition();\n      }\n    }\n  };\n\n  BScroll.prototype._animate = function (destX, destY, duration, easingFn) {\n    var me = this;\n    var startX = this.x;\n    var startY = this.y;\n    var startScale = this.lastScale;\n    var destScale = this.scale;\n    var startTime = getNow();\n    var destTime = startTime + duration;\n\n    function step() {\n      var now = getNow();\n\n      if (now >= destTime) {\n        me.isAnimating = false;\n        me._translate(destX, destY, destScale);\n\n        me.trigger('scroll', {\n          x: me.x,\n          y: me.y\n        });\n\n        if (!me.pulling && !me.resetPosition(me.options.bounceTime)) {\n          me.trigger('scrollEnd', {\n            x: me.x,\n            y: me.y\n          });\n        }\n        return;\n      }\n      now = (now - startTime) / duration;\n      var easing = easingFn(now);\n      var newX = (destX - startX) * easing + startX;\n      var newY = (destY - startY) * easing + startY;\n      var newScale = (destScale - startScale) * easing + startScale;\n\n      me._translate(newX, newY, newScale);\n\n      if (me.isAnimating) {\n        me.animateTimer = requestAnimationFrame(step);\n      }\n\n      if (me.options.probeType === PROBE_REALTIME) {\n        me.trigger('scroll', {\n          x: me.x,\n          y: me.y\n        });\n      }\n    }\n\n    this.isAnimating = true;\n    cancelAnimationFrame(this.animateTimer);\n    step();\n  };\n\n  BScroll.prototype.scrollBy = function (x, y) {\n    var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var easing = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : ease.bounce;\n\n    x = this.x + x;\n    y = this.y + y;\n\n    this.scrollTo(x, y, time, easing);\n  };\n\n  BScroll.prototype.scrollTo = function (x, y) {\n    var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var easing = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : ease.bounce;\n    var isSilent = arguments[4];\n\n    if (this.options.wheel) {\n      y = this._findNearestValidWheel(y).y;\n    }\n    if (x === this.x && y === this.y) {\n      return;\n    }\n    this.isInTransition = this.options.useTransition && time > 0 && (this.x !== x || this.y !== y);\n\n    if (!time || this.options.useTransition) {\n      this._transitionTimingFunction(easing.style);\n      this._transitionTime(time);\n      this._translate(x, y);\n\n      if (time && this.options.probeType === PROBE_REALTIME) {\n        this._startProbe();\n      }\n      if (!time && !isSilent) {\n        // don't trigger resetPosition when zoom feature is open, fix #748\n        if (this.options.zoom) return;\n        this.trigger('scroll', {\n          x: x,\n          y: y\n        });\n        // force reflow to put everything in position\n        this._reflow = document.body.offsetHeight;\n        if (!this.resetPosition(this.options.bounceTime, ease.bounce)) {\n          this.trigger('scrollEnd', {\n            x: x,\n            y: y\n          });\n        }\n      }\n\n      if (this.options.wheel) {\n        this.selectedIndex = this._findNearestValidWheel(y).index;\n      }\n    } else {\n      this._animate(x, y, time, easing.fn);\n    }\n  };\n\n  BScroll.prototype.scrollToElement = function (el, time, offsetX, offsetY, easing) {\n    if (!el) {\n      return;\n    }\n    el = el.nodeType ? el : this.scroller.querySelector(el);\n\n    if (this.options.wheel && !el.classList.contains(this.options.wheel.wheelItemClass)) {\n      return;\n    }\n\n    var pos = offset(el);\n    pos.left -= this.wrapperOffset.left;\n    pos.top -= this.wrapperOffset.top;\n\n    // if offsetX/Y are true we center the element to the screen\n    if (offsetX === true) {\n      offsetX = Math.round(el.offsetWidth / 2 - this.wrapper.offsetWidth / 2);\n    }\n    if (offsetY === true) {\n      offsetY = Math.round(el.offsetHeight / 2 - this.wrapper.offsetHeight / 2);\n    }\n\n    pos.left -= offsetX || 0;\n    pos.top -= offsetY || 0;\n    pos.left = pos.left > this.minScrollX ? this.minScrollX : pos.left < this.maxScrollX ? this.maxScrollX : pos.left;\n    pos.top = pos.top > this.minScrollY ? this.minScrollY : pos.top < this.maxScrollY ? this.maxScrollY : pos.top;\n\n    if (this.options.wheel) {\n      pos.top = this._findNearestValidWheel(pos.top).y;\n    }\n\n    this.scrollTo(pos.left, pos.top, time, easing);\n  };\n\n  BScroll.prototype.resetPosition = function () {\n    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var easeing = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ease.bounce;\n\n    var x = this.x;\n    var roundX = Math.round(x);\n    if (!this.hasHorizontalScroll || roundX > this.minScrollX) {\n      x = this.minScrollX;\n    } else if (roundX < this.maxScrollX) {\n      x = this.maxScrollX;\n    }\n\n    var y = this.y;\n    var roundY = Math.round(y);\n    if (!this.hasVerticalScroll || roundY > this.minScrollY) {\n      y = this.minScrollY;\n    } else if (roundY < this.maxScrollY) {\n      y = this.maxScrollY;\n    }\n\n    if (x === this.x && y === this.y) {\n      return false;\n    }\n\n    this.scrollTo(x, y, time, easeing);\n\n    return true;\n  };\n\n  BScroll.prototype.getComputedPosition = function () {\n    var matrix = window.getComputedStyle(this.scroller, null);\n    var x = void 0;\n    var y = void 0;\n\n    if (this.options.useTransform) {\n      matrix = matrix[style.transform].split(')')[0].split(', ');\n      x = +(matrix[12] || matrix[4]);\n      y = +(matrix[13] || matrix[5]);\n    } else {\n      x = +matrix.left.replace(/[^-\\d.]/g, '');\n      y = +matrix.top.replace(/[^-\\d.]/g, '');\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  BScroll.prototype.stop = function () {\n    if (this.options.useTransition && this.isInTransition) {\n      this.isInTransition = false;\n      cancelAnimationFrame(this.probeTimer);\n      var pos = this.getComputedPosition();\n      this._translate(pos.x, pos.y);\n      if (this.options.wheel) {\n        this.target = this.items[this._findNearestValidWheel(pos.y).index];\n      } else {\n        this.trigger('scrollEnd', {\n          x: this.x,\n          y: this.y\n        });\n      }\n      this.stopFromTransition = true;\n    } else if (!this.options.useTransition && this.isAnimating) {\n      this.isAnimating = false;\n      cancelAnimationFrame(this.animateTimer);\n      this.trigger('scrollEnd', {\n        x: this.x,\n        y: this.y\n      });\n      this.stopFromTransition = true;\n    }\n  };\n\n  BScroll.prototype.destroy = function () {\n    this.destroyed = true;\n    this.trigger('destroy');\n    if (this.options.useTransition) {\n      cancelAnimationFrame(this.probeTimer);\n    } else {\n      cancelAnimationFrame(this.animateTimer);\n    }\n    this._removeDOMEvents();\n    // remove custom events\n    this._events = {};\n  };\n}\n\nfunction snapMixin(BScroll) {\n  BScroll.prototype._initSnap = function () {\n    var _this = this;\n\n    this.currentPage = {};\n    var snap = this.options.snap;\n\n    if (snap.loop) {\n      var children = this.scroller.children;\n      if (children.length > 1) {\n        prepend(children[children.length - 1].cloneNode(true), this.scroller);\n        this.scroller.appendChild(children[1].cloneNode(true));\n      } else {\n        // Loop does not make any sense if there is only one child.\n        snap.loop = false;\n      }\n    }\n\n    var el = snap.el;\n    if (typeof el === 'string') {\n      el = this.scroller.querySelectorAll(el);\n    }\n\n    this.on('refresh', function () {\n      _this.pages = [];\n\n      if (!_this.wrapperWidth || !_this.wrapperHeight || !_this.scrollerWidth || !_this.scrollerHeight) {\n        return;\n      }\n\n      var stepX = snap.stepX || _this.wrapperWidth;\n      var stepY = snap.stepY || _this.wrapperHeight;\n\n      var x = 0;\n      var y = void 0;\n      var cx = void 0;\n      var cy = void 0;\n      var i = 0;\n      var l = void 0;\n      var m = 0;\n      var n = void 0;\n      var rect = void 0;\n      if (!el) {\n        cx = Math.round(stepX / 2);\n        cy = Math.round(stepY / 2);\n\n        while (x > -_this.scrollerWidth) {\n          _this.pages[i] = [];\n          l = 0;\n          y = 0;\n\n          while (y > -_this.scrollerHeight) {\n            _this.pages[i][l] = {\n              x: Math.max(x, _this.maxScrollX),\n              y: Math.max(y, _this.maxScrollY),\n              width: stepX,\n              height: stepY,\n              cx: x - cx,\n              cy: y - cy\n            };\n\n            y -= stepY;\n            l++;\n          }\n\n          x -= stepX;\n          i++;\n        }\n      } else {\n        l = el.length;\n        n = -1;\n\n        for (; i < l; i++) {\n          rect = getRect(el[i]);\n          if (i === 0 || rect.left <= getRect(el[i - 1]).left) {\n            m = 0;\n            n++;\n          }\n\n          if (!_this.pages[m]) {\n            _this.pages[m] = [];\n          }\n\n          x = Math.max(-rect.left, _this.maxScrollX);\n          y = Math.max(-rect.top, _this.maxScrollY);\n          cx = x - Math.round(rect.width / 2);\n          cy = y - Math.round(rect.height / 2);\n\n          _this.pages[m][n] = {\n            x: x,\n            y: y,\n            width: rect.width,\n            height: rect.height,\n            cx: cx,\n            cy: cy\n          };\n\n          if (x > _this.maxScrollX) {\n            m++;\n          }\n        }\n      }\n\n      _this._checkSnapLoop();\n\n      var initPageX = snap._loopX ? 1 : 0;\n      var initPageY = snap._loopY ? 1 : 0;\n      _this._goToPage(_this.currentPage.pageX || initPageX, _this.currentPage.pageY || initPageY, 0, undefined, true);\n\n      // Update snap threshold if needed.\n      var snapThreshold = snap.threshold;\n      if (snapThreshold % 1 === 0) {\n        _this.snapThresholdX = snapThreshold;\n        _this.snapThresholdY = snapThreshold;\n      } else {\n        _this.snapThresholdX = Math.round(_this.pages[_this.currentPage.pageX][_this.currentPage.pageY].width * snapThreshold);\n        _this.snapThresholdY = Math.round(_this.pages[_this.currentPage.pageX][_this.currentPage.pageY].height * snapThreshold);\n      }\n    });\n\n    this.on('scrollEnd', function () {\n      if (snap.loop) {\n        if (snap._loopX) {\n          if (_this.currentPage.pageX === 0) {\n            _this._goToPage(_this.pages.length - 2, _this.currentPage.pageY, 0, undefined, true);\n          }\n          if (_this.currentPage.pageX === _this.pages.length - 1) {\n            _this._goToPage(1, _this.currentPage.pageY, 0, undefined, true);\n          }\n        } else {\n          if (_this.currentPage.pageY === 0) {\n            _this._goToPage(_this.currentPage.pageX, _this.pages[0].length - 2, 0, undefined, true);\n          }\n          if (_this.currentPage.pageY === _this.pages[0].length - 1) {\n            _this._goToPage(_this.currentPage.pageX, 1, 0, undefined, true);\n          }\n        }\n      }\n    });\n\n    if (snap.listenFlick !== false) {\n      this.on('flick', function () {\n        var time = snap.speed || Math.max(Math.max(Math.min(Math.abs(_this.x - _this.startX), 1000), Math.min(Math.abs(_this.y - _this.startY), 1000)), 300);\n\n        _this._goToPage(_this.currentPage.pageX + _this.directionX, _this.currentPage.pageY + _this.directionY, time);\n      });\n    }\n\n    this.on('destroy', function () {\n      if (snap.loop) {\n        var _children = _this.scroller.children;\n        if (_children.length > 2) {\n          removeChild(_this.scroller, _children[_children.length - 1]);\n          removeChild(_this.scroller, _children[0]);\n        }\n      }\n    });\n  };\n\n  BScroll.prototype._checkSnapLoop = function () {\n    var snap = this.options.snap;\n\n    if (!snap.loop || !this.pages || !this.pages.length) {\n      return;\n    }\n\n    if (this.pages.length > 1) {\n      snap._loopX = true;\n    }\n    if (this.pages[0] && this.pages[0].length > 1) {\n      snap._loopY = true;\n    }\n    if (snap._loopX && snap._loopY) {\n      warn('Loop does not support two direction at the same time.');\n    }\n  };\n\n  BScroll.prototype._nearestSnap = function (x, y) {\n    if (!this.pages.length) {\n      return { x: 0, y: 0, pageX: 0, pageY: 0 };\n    }\n\n    var i = 0;\n    // Check if we exceeded the snap threshold\n    if (Math.abs(x - this.absStartX) <= this.snapThresholdX && Math.abs(y - this.absStartY) <= this.snapThresholdY) {\n      return this.currentPage;\n    }\n\n    if (x > this.minScrollX) {\n      x = this.minScrollX;\n    } else if (x < this.maxScrollX) {\n      x = this.maxScrollX;\n    }\n\n    if (y > this.minScrollY) {\n      y = this.minScrollY;\n    } else if (y < this.maxScrollY) {\n      y = this.maxScrollY;\n    }\n\n    var l = this.pages.length;\n    for (; i < l; i++) {\n      if (x >= this.pages[i][0].cx) {\n        x = this.pages[i][0].x;\n        break;\n      }\n    }\n\n    l = this.pages[i].length;\n\n    var m = 0;\n    for (; m < l; m++) {\n      if (y >= this.pages[0][m].cy) {\n        y = this.pages[0][m].y;\n        break;\n      }\n    }\n\n    if (i === this.currentPage.pageX) {\n      i += this.directionX;\n\n      if (i < 0) {\n        i = 0;\n      } else if (i >= this.pages.length) {\n        i = this.pages.length - 1;\n      }\n\n      x = this.pages[i][0].x;\n    }\n\n    if (m === this.currentPage.pageY) {\n      m += this.directionY;\n\n      if (m < 0) {\n        m = 0;\n      } else if (m >= this.pages[0].length) {\n        m = this.pages[0].length - 1;\n      }\n\n      y = this.pages[0][m].y;\n    }\n\n    return {\n      x: x,\n      y: y,\n      pageX: i,\n      pageY: m\n    };\n  };\n\n  BScroll.prototype._goToPage = function (x) {\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var time = arguments[2];\n    var easing = arguments[3];\n    var isSilent = arguments[4];\n\n    var snap = this.options.snap;\n\n    if (!snap || !this.pages || !this.pages.length) {\n      return;\n    }\n\n    easing = easing || snap.easing || ease.bounce;\n\n    if (x >= this.pages.length) {\n      x = this.pages.length - 1;\n    } else if (x < 0) {\n      x = 0;\n    }\n\n    if (!this.pages[x]) {\n      return;\n    }\n\n    if (y >= this.pages[x].length) {\n      y = this.pages[x].length - 1;\n    } else if (y < 0) {\n      y = 0;\n    }\n\n    var posX = this.pages[x][y].x;\n    var posY = this.pages[x][y].y;\n\n    time = time === undefined ? snap.speed || Math.max(Math.max(Math.min(Math.abs(posX - this.x), 1000), Math.min(Math.abs(posY - this.y), 1000)), 300) : time;\n\n    this.currentPage = {\n      x: posX,\n      y: posY,\n      pageX: x,\n      pageY: y\n    };\n    this.scrollTo(posX, posY, time, easing, isSilent);\n  };\n\n  BScroll.prototype.goToPage = function (x, y, time, easing) {\n    var snap = this.options.snap;\n    if (!snap || !this.pages || !this.pages.length) {\n      return;\n    }\n\n    if (snap.loop) {\n      var len = void 0;\n      if (snap._loopX) {\n        len = this.pages.length - 2;\n        if (x >= len) {\n          x = len - 1;\n        } else if (x < 0) {\n          x = 0;\n        }\n        x += 1;\n      } else {\n        len = this.pages[0].length - 2;\n        if (y >= len) {\n          y = len - 1;\n        } else if (y < 0) {\n          y = 0;\n        }\n        y += 1;\n      }\n    }\n    this._goToPage(x, y, time, easing);\n  };\n\n  BScroll.prototype.next = function (time, easing) {\n    var snap = this.options.snap;\n    if (!snap) {\n      return;\n    }\n\n    var x = this.currentPage.pageX;\n    var y = this.currentPage.pageY;\n\n    x++;\n    if (x >= this.pages.length && this.hasVerticalScroll) {\n      x = 0;\n      y++;\n    }\n\n    this._goToPage(x, y, time, easing);\n  };\n\n  BScroll.prototype.prev = function (time, easing) {\n    var snap = this.options.snap;\n    if (!snap) {\n      return;\n    }\n\n    var x = this.currentPage.pageX;\n    var y = this.currentPage.pageY;\n\n    x--;\n    if (x < 0 && this.hasVerticalScroll) {\n      x = 0;\n      y--;\n    }\n\n    this._goToPage(x, y, time, easing);\n  };\n\n  BScroll.prototype.getCurrentPage = function () {\n    var snap = this.options.snap;\n    if (!snap) {\n      return null;\n    }\n\n    if (snap.loop) {\n      var currentPage = void 0;\n      if (snap._loopX) {\n        currentPage = extend({}, this.currentPage, {\n          pageX: this.currentPage.pageX - 1\n        });\n      } else {\n        currentPage = extend({}, this.currentPage, {\n          pageY: this.currentPage.pageY - 1\n        });\n      }\n      return currentPage;\n    }\n    return this.currentPage;\n  };\n}\n\nfunction wheelMixin(BScroll) {\n  BScroll.prototype.wheelTo = function () {\n    var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n    if (this.options.wheel) {\n      var y = -index * this.itemHeight;\n      this.scrollTo(0, y);\n    }\n  };\n\n  BScroll.prototype.getSelectedIndex = function () {\n    return this.options.wheel && this.selectedIndex;\n  };\n\n  BScroll.prototype._initWheel = function () {\n    var wheel = this.options.wheel;\n    if (!wheel.wheelWrapperClass) {\n      wheel.wheelWrapperClass = 'wheel-scroll';\n    }\n    if (!wheel.wheelItemClass) {\n      wheel.wheelItemClass = 'wheel-item';\n    }\n    if (!wheel.wheelDisabledItemClass) {\n      wheel.wheelDisabledItemClass = 'wheel-disabled-item';\n    }\n    if (wheel.selectedIndex === undefined) {\n      wheel.selectedIndex = 0;\n    }\n  };\n\n  BScroll.prototype._findNearestValidWheel = function (y) {\n    y = y > 0 ? 0 : y < this.maxScrollY ? this.maxScrollY : y;\n    var wheel = this.options.wheel;\n    var currentIndex = Math.abs(Math.round(-y / this.itemHeight));\n    var cacheIndex = currentIndex;\n    var items = this.items;\n    // Impersonation web native select\n    // first, check whether there is a enable item whose index is smaller than currentIndex\n    // then, check whether there is a enable item whose index is bigger than currentIndex\n    // otherwise, there are all disabled items, just keep currentIndex unchange\n    while (currentIndex >= 0) {\n      if (items[currentIndex].className.indexOf(wheel.wheelDisabledItemClass) === -1) {\n        break;\n      }\n      currentIndex--;\n    }\n\n    if (currentIndex < 0) {\n      currentIndex = cacheIndex;\n      while (currentIndex <= items.length - 1) {\n        if (items[currentIndex].className.indexOf(wheel.wheelDisabledItemClass) === -1) {\n          break;\n        }\n        currentIndex++;\n      }\n    }\n\n    // keep it unchange when all the items are disabled\n    if (currentIndex === items.length) {\n      currentIndex = cacheIndex;\n    }\n    // when all the items are disabled, this.selectedIndex should always be -1\n    return {\n      index: this.wheelItemsAllDisabled ? -1 : currentIndex,\n      y: -currentIndex * this.itemHeight\n    };\n  };\n\n  BScroll.prototype._checkWheelAllDisabled = function () {\n    var wheel = this.options.wheel;\n    var items = this.items;\n    this.wheelItemsAllDisabled = true;\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].className.indexOf(wheel.wheelDisabledItemClass) === -1) {\n        this.wheelItemsAllDisabled = false;\n        break;\n      }\n    }\n  };\n}\n\nvar INDICATOR_MIN_LEN = 8;\n\nfunction scrollbarMixin(BScroll) {\n  BScroll.prototype._initScrollbar = function () {\n    var _this = this;\n\n    var _options$scrollbar = this.options.scrollbar,\n        _options$scrollbar$fa = _options$scrollbar.fade,\n        fade = _options$scrollbar$fa === undefined ? true : _options$scrollbar$fa,\n        _options$scrollbar$in = _options$scrollbar.interactive,\n        interactive = _options$scrollbar$in === undefined ? false : _options$scrollbar$in;\n\n    this.indicators = [];\n    var indicator = void 0;\n\n    if (this.options.scrollX) {\n      indicator = {\n        el: createScrollbar('horizontal'),\n        direction: 'horizontal',\n        fade: fade,\n        interactive: interactive\n      };\n      this._insertScrollBar(indicator.el);\n\n      this.indicators.push(new Indicator(this, indicator));\n    }\n\n    if (this.options.scrollY) {\n      indicator = {\n        el: createScrollbar('vertical'),\n        direction: 'vertical',\n        fade: fade,\n        interactive: interactive\n      };\n      this._insertScrollBar(indicator.el);\n      this.indicators.push(new Indicator(this, indicator));\n    }\n\n    this.on('refresh', function () {\n      for (var i = 0; i < _this.indicators.length; i++) {\n        _this.indicators[i].refresh();\n      }\n    });\n\n    if (fade) {\n      this.on('scrollEnd', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade();\n        }\n      });\n\n      this.on('scrollCancel', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade();\n        }\n      });\n\n      this.on('scrollStart', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade(true);\n        }\n      });\n\n      this.on('beforeScrollStart', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade(true, true);\n        }\n      });\n    }\n\n    this.on('destroy', function () {\n      _this._removeScrollBars();\n    });\n  };\n\n  BScroll.prototype._insertScrollBar = function (scrollbar) {\n    this.wrapper.appendChild(scrollbar);\n  };\n\n  BScroll.prototype._removeScrollBars = function () {\n    for (var i = 0; i < this.indicators.length; i++) {\n      this.indicators[i].destroy();\n    }\n  };\n}\n\nfunction createScrollbar(direction) {\n  var scrollbar = document.createElement('div');\n  var indicator = document.createElement('div');\n\n  scrollbar.style.cssText = 'position:absolute;z-index:9999;pointerEvents:none';\n  indicator.style.cssText = 'box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px;';\n\n  indicator.className = 'bscroll-indicator';\n\n  if (direction === 'horizontal') {\n    scrollbar.style.cssText += ';height:7px;left:2px;right:2px;bottom:0';\n    indicator.style.height = '100%';\n    scrollbar.className = 'bscroll-horizontal-scrollbar';\n  } else {\n    scrollbar.style.cssText += ';width:7px;bottom:2px;top:2px;right:1px';\n    indicator.style.width = '100%';\n    scrollbar.className = 'bscroll-vertical-scrollbar';\n  }\n\n  scrollbar.style.cssText += ';overflow:hidden';\n  scrollbar.appendChild(indicator);\n\n  return scrollbar;\n}\n\nfunction Indicator(scroller, options) {\n  this.wrapper = options.el;\n  this.wrapperStyle = this.wrapper.style;\n  this.indicator = this.wrapper.children[0];\n  this.indicatorStyle = this.indicator.style;\n  this.scroller = scroller;\n  this.direction = options.direction;\n  if (options.fade) {\n    this.visible = 0;\n    this.wrapperStyle.opacity = '0';\n  } else {\n    this.visible = 1;\n  }\n\n  this.sizeRatioX = 1;\n  this.sizeRatioY = 1;\n  this.maxPosX = 0;\n  this.maxPosY = 0;\n  this.x = 0;\n  this.y = 0;\n\n  if (options.interactive) {\n    this._addDOMEvents();\n  }\n}\n\nIndicator.prototype.handleEvent = function (e) {\n  switch (e.type) {\n    case 'touchstart':\n    case 'mousedown':\n      this._start(e);\n      break;\n    case 'touchmove':\n    case 'mousemove':\n      this._move(e);\n      break;\n    case 'touchend':\n    case 'mouseup':\n    case 'touchcancel':\n    case 'mousecancel':\n      this._end(e);\n      break;\n  }\n};\n\nIndicator.prototype.refresh = function () {\n  if (this._shouldShow()) {\n    this.transitionTime();\n    this._calculate();\n    this.updatePosition();\n  }\n};\n\nIndicator.prototype.fade = function (visible, hold) {\n  var _this2 = this;\n\n  if (hold && !this.visible) {\n    return;\n  }\n\n  var time = visible ? 250 : 500;\n\n  visible = visible ? '1' : '0';\n\n  this.wrapperStyle[style.transitionDuration] = time + 'ms';\n\n  clearTimeout(this.fadeTimeout);\n  this.fadeTimeout = setTimeout(function () {\n    _this2.wrapperStyle.opacity = visible;\n    _this2.visible = +visible;\n  }, 0);\n};\n\nIndicator.prototype.updatePosition = function () {\n  if (this.direction === 'vertical') {\n    var y = Math.round(this.sizeRatioY * this.scroller.y);\n\n    if (y < 0) {\n      this.transitionTime(500);\n      var height = Math.max(this.indicatorHeight + y * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.height = height + 'px';\n      y = 0;\n    } else if (y > this.maxPosY) {\n      this.transitionTime(500);\n      var _height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.height = _height + 'px';\n      y = this.maxPosY + this.indicatorHeight - _height;\n    } else {\n      this.indicatorStyle.height = this.indicatorHeight + 'px';\n    }\n    this.y = y;\n\n    if (this.scroller.options.useTransform) {\n      this.indicatorStyle[style.transform] = 'translateY(' + y + 'px)' + this.scroller.translateZ;\n    } else {\n      this.indicatorStyle.top = y + 'px';\n    }\n  } else {\n    var x = Math.round(this.sizeRatioX * this.scroller.x);\n\n    if (x < 0) {\n      this.transitionTime(500);\n      var width = Math.max(this.indicatorWidth + x * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.width = width + 'px';\n      x = 0;\n    } else if (x > this.maxPosX) {\n      this.transitionTime(500);\n      var _width = Math.max(this.indicatorWidth - (x - this.maxPosX) * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.width = _width + 'px';\n      x = this.maxPosX + this.indicatorWidth - _width;\n    } else {\n      this.indicatorStyle.width = this.indicatorWidth + 'px';\n    }\n\n    this.x = x;\n\n    if (this.scroller.options.useTransform) {\n      this.indicatorStyle[style.transform] = 'translateX(' + x + 'px)' + this.scroller.translateZ;\n    } else {\n      this.indicatorStyle.left = x + 'px';\n    }\n  }\n};\n\nIndicator.prototype.transitionTime = function () {\n  var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n  this.indicatorStyle[style.transitionDuration] = time + 'ms';\n};\n\nIndicator.prototype.transitionTimingFunction = function (easing) {\n  this.indicatorStyle[style.transitionTimingFunction] = easing;\n};\n\nIndicator.prototype.destroy = function () {\n  this._removeDOMEvents();\n  this.wrapper.parentNode.removeChild(this.wrapper);\n};\n\nIndicator.prototype._start = function (e) {\n  var point = e.touches ? e.touches[0] : e;\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  this.transitionTime();\n\n  this.initiated = true;\n  this.moved = false;\n  this.lastPointX = point.pageX;\n  this.lastPointY = point.pageY;\n\n  this.startTime = getNow();\n\n  this._handleMoveEvents(addEvent);\n  this.scroller.trigger('beforeScrollStart');\n};\n\nIndicator.prototype._move = function (e) {\n  var point = e.touches ? e.touches[0] : e;\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  if (!this.moved) {\n    this.scroller.trigger('scrollStart');\n  }\n\n  this.moved = true;\n\n  var deltaX = point.pageX - this.lastPointX;\n  this.lastPointX = point.pageX;\n\n  var deltaY = point.pageY - this.lastPointY;\n  this.lastPointY = point.pageY;\n\n  var newX = this.x + deltaX;\n  var newY = this.y + deltaY;\n\n  this._pos(newX, newY);\n};\n\nIndicator.prototype._end = function (e) {\n  if (!this.initiated) {\n    return;\n  }\n  this.initiated = false;\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  this._handleMoveEvents(removeEvent);\n\n  var snapOption = this.scroller.options.snap;\n  if (snapOption) {\n    var speed = snapOption.speed,\n        _snapOption$easing = snapOption.easing,\n        easing = _snapOption$easing === undefined ? ease.bounce : _snapOption$easing;\n\n    var snap = this.scroller._nearestSnap(this.scroller.x, this.scroller.y);\n\n    var time = speed || Math.max(Math.max(Math.min(Math.abs(this.scroller.x - snap.x), 1000), Math.min(Math.abs(this.scroller.y - snap.y), 1000)), 300);\n\n    if (this.scroller.x !== snap.x || this.scroller.y !== snap.y) {\n      this.scroller.directionX = 0;\n      this.scroller.directionY = 0;\n      this.scroller.currentPage = snap;\n      this.scroller.scrollTo(snap.x, snap.y, time, easing);\n    }\n  }\n\n  if (this.moved) {\n    this.scroller.trigger('scrollEnd', {\n      x: this.scroller.x,\n      y: this.scroller.y\n    });\n  }\n};\n\nIndicator.prototype._pos = function (x, y) {\n  if (x < 0) {\n    x = 0;\n  } else if (x > this.maxPosX) {\n    x = this.maxPosX;\n  }\n\n  if (y < 0) {\n    y = 0;\n  } else if (y > this.maxPosY) {\n    y = this.maxPosY;\n  }\n\n  x = Math.round(x / this.sizeRatioX);\n  y = Math.round(y / this.sizeRatioY);\n\n  this.scroller.scrollTo(x, y);\n  this.scroller.trigger('scroll', {\n    x: this.scroller.x,\n    y: this.scroller.y\n  });\n};\n\nIndicator.prototype._shouldShow = function () {\n  if (this.direction === 'vertical' && this.scroller.hasVerticalScroll || this.direction === 'horizontal' && this.scroller.hasHorizontalScroll) {\n    this.wrapper.style.display = '';\n    return true;\n  }\n  this.wrapper.style.display = 'none';\n  return false;\n};\n\nIndicator.prototype._calculate = function () {\n  if (this.direction === 'vertical') {\n    var wrapperHeight = this.wrapper.clientHeight;\n    this.indicatorHeight = Math.max(Math.round(wrapperHeight * wrapperHeight / (this.scroller.scrollerHeight || wrapperHeight || 1)), INDICATOR_MIN_LEN);\n    this.indicatorStyle.height = this.indicatorHeight + 'px';\n\n    this.maxPosY = wrapperHeight - this.indicatorHeight;\n\n    this.sizeRatioY = this.maxPosY / this.scroller.maxScrollY;\n  } else {\n    var wrapperWidth = this.wrapper.clientWidth;\n    this.indicatorWidth = Math.max(Math.round(wrapperWidth * wrapperWidth / (this.scroller.scrollerWidth || wrapperWidth || 1)), INDICATOR_MIN_LEN);\n    this.indicatorStyle.width = this.indicatorWidth + 'px';\n\n    this.maxPosX = wrapperWidth - this.indicatorWidth;\n\n    this.sizeRatioX = this.maxPosX / this.scroller.maxScrollX;\n  }\n};\n\nIndicator.prototype._addDOMEvents = function () {\n  var eventOperation = addEvent;\n  this._handleDOMEvents(eventOperation);\n};\n\nIndicator.prototype._removeDOMEvents = function () {\n  var eventOperation = removeEvent;\n  this._handleDOMEvents(eventOperation);\n  this._handleMoveEvents(eventOperation);\n};\n\nIndicator.prototype._handleMoveEvents = function (eventOperation) {\n  if (!this.scroller.options.disableTouch) {\n    eventOperation(window, 'touchmove', this);\n  }\n  if (!this.scroller.options.disableMouse) {\n    eventOperation(window, 'mousemove', this);\n  }\n};\n\nIndicator.prototype._handleDOMEvents = function (eventOperation) {\n  if (!this.scroller.options.disableTouch) {\n    eventOperation(this.indicator, 'touchstart', this);\n    eventOperation(window, 'touchend', this);\n  }\n  if (!this.scroller.options.disableMouse) {\n    eventOperation(this.indicator, 'mousedown', this);\n    eventOperation(window, 'mouseup', this);\n  }\n};\n\nfunction pullDownMixin(BScroll) {\n  BScroll.prototype._initPullDown = function () {\n    // must watch scroll in real time\n    this.options.probeType = PROBE_REALTIME;\n  };\n\n  BScroll.prototype._checkPullDown = function () {\n    var _options$pullDownRefr = this.options.pullDownRefresh,\n        _options$pullDownRefr2 = _options$pullDownRefr.threshold,\n        threshold = _options$pullDownRefr2 === undefined ? 90 : _options$pullDownRefr2,\n        _options$pullDownRefr3 = _options$pullDownRefr.stop,\n        stop = _options$pullDownRefr3 === undefined ? 40 : _options$pullDownRefr3;\n\n    // check if a real pull down action\n\n    if (this.directionY !== DIRECTION_DOWN || this.y < threshold) {\n      return false;\n    }\n\n    if (!this.pulling) {\n      this.pulling = true;\n      this.trigger('pullingDown');\n    }\n    this.scrollTo(this.x, stop, this.options.bounceTime, ease.bounce);\n\n    return this.pulling;\n  };\n\n  BScroll.prototype.finishPullDown = function () {\n    this.pulling = false;\n    this.resetPosition(this.options.bounceTime, ease.bounce);\n  };\n\n  BScroll.prototype.openPullDown = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    this.options.pullDownRefresh = config;\n    this._initPullDown();\n  };\n\n  BScroll.prototype.closePullDown = function () {\n    this.options.pullDownRefresh = false;\n  };\n\n  BScroll.prototype.autoPullDownRefresh = function () {\n    var _options$pullDownRefr4 = this.options.pullDownRefresh,\n        _options$pullDownRefr5 = _options$pullDownRefr4.threshold,\n        threshold = _options$pullDownRefr5 === undefined ? 90 : _options$pullDownRefr5,\n        _options$pullDownRefr6 = _options$pullDownRefr4.stop,\n        stop = _options$pullDownRefr6 === undefined ? 40 : _options$pullDownRefr6;\n\n\n    if (this.pulling) {\n      return;\n    }\n    this.pulling = true;\n\n    this.scrollTo(this.x, threshold);\n    this.trigger('pullingDown');\n    this.scrollTo(this.x, stop, this.options.bounceTime, ease.bounce);\n  };\n}\n\nfunction pullUpMixin(BScroll) {\n  BScroll.prototype._initPullUp = function () {\n    // must watch scroll in real time\n    this.options.probeType = PROBE_REALTIME;\n\n    this.pullupWatching = false;\n    this._watchPullUp();\n  };\n\n  BScroll.prototype._watchPullUp = function () {\n    if (this.pullupWatching) {\n      return;\n    }\n    this.pullupWatching = true;\n    this.on('scroll', this._checkToEnd);\n  };\n\n  BScroll.prototype._checkToEnd = function (pos) {\n    var _this = this;\n\n    var _options$pullUpLoad$t = this.options.pullUpLoad.threshold,\n        threshold = _options$pullUpLoad$t === undefined ? 0 : _options$pullUpLoad$t;\n\n    if (this.movingDirectionY === DIRECTION_UP && pos.y <= this.maxScrollY + threshold) {\n      // reset pullupWatching status after scroll end.\n      this.once('scrollEnd', function () {\n        _this.pullupWatching = false;\n      });\n      this.trigger('pullingUp');\n      this.off('scroll', this._checkToEnd);\n    }\n  };\n\n  BScroll.prototype.finishPullUp = function () {\n    var _this2 = this;\n\n    if (this.pullupWatching) {\n      this.once('scrollEnd', function () {\n        _this2._watchPullUp();\n      });\n    } else {\n      this._watchPullUp();\n    }\n  };\n\n  BScroll.prototype.openPullUp = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    this.options.pullUpLoad = config;\n    this._initPullUp();\n  };\n\n  BScroll.prototype.closePullUp = function () {\n    this.options.pullUpLoad = false;\n    if (!this.pullupWatching) {\n      return;\n    }\n    this.pullupWatching = false;\n    this.off('scroll', this._checkToEnd);\n  };\n}\n\nfunction mouseWheelMixin(BScroll) {\n  BScroll.prototype._initMouseWheel = function () {\n    var _this = this;\n\n    this._handleMouseWheelEvent(addEvent);\n\n    this.on('destroy', function () {\n      clearTimeout(_this.mouseWheelTimer);\n      clearTimeout(_this.mouseWheelEndTimer);\n      _this._handleMouseWheelEvent(removeEvent);\n    });\n\n    this.firstWheelOpreation = true;\n  };\n\n  BScroll.prototype._handleMouseWheelEvent = function (eventOperation) {\n    eventOperation(this.wrapper, 'wheel', this);\n    eventOperation(this.wrapper, 'mousewheel', this);\n    eventOperation(this.wrapper, 'DOMMouseScroll', this);\n  };\n\n  BScroll.prototype._onMouseWheel = function (e) {\n    var _this2 = this;\n\n    if (!this.enabled) {\n      return;\n    }\n    e.preventDefault();\n\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    if (this.firstWheelOpreation) {\n      this.trigger('scrollStart');\n    }\n    this.firstWheelOpreation = false;\n\n    var _options$mouseWheel = this.options.mouseWheel,\n        _options$mouseWheel$s = _options$mouseWheel.speed,\n        speed = _options$mouseWheel$s === undefined ? 20 : _options$mouseWheel$s,\n        _options$mouseWheel$i = _options$mouseWheel.invert,\n        invert = _options$mouseWheel$i === undefined ? false : _options$mouseWheel$i,\n        _options$mouseWheel$e = _options$mouseWheel.easeTime,\n        easeTime = _options$mouseWheel$e === undefined ? 300 : _options$mouseWheel$e;\n\n\n    clearTimeout(this.mouseWheelTimer);\n    this.mouseWheelTimer = setTimeout(function () {\n      if (!_this2.options.snap && !easeTime) {\n        _this2.trigger('scrollEnd', {\n          x: _this2.x,\n          y: _this2.y\n        });\n      }\n      _this2.firstWheelOpreation = true;\n    }, 400);\n\n    var wheelDeltaX = void 0;\n    var wheelDeltaY = void 0;\n\n    switch (true) {\n      case 'deltaX' in e:\n        if (e.deltaMode === 1) {\n          wheelDeltaX = -e.deltaX * speed;\n          wheelDeltaY = -e.deltaY * speed;\n        } else {\n          wheelDeltaX = -e.deltaX;\n          wheelDeltaY = -e.deltaY;\n        }\n        break;\n      case 'wheelDeltaX' in e:\n        wheelDeltaX = e.wheelDeltaX / 120 * speed;\n        wheelDeltaY = e.wheelDeltaY / 120 * speed;\n        break;\n      case 'wheelDelta' in e:\n        wheelDeltaX = wheelDeltaY = e.wheelDelta / 120 * speed;\n        break;\n      case 'detail' in e:\n        wheelDeltaX = wheelDeltaY = -e.detail / 3 * speed;\n        break;\n      default:\n        return;\n    }\n\n    var direction = invert ? -1 : 1;\n    wheelDeltaX *= direction;\n    wheelDeltaY *= direction;\n\n    if (!this.hasVerticalScroll) {\n      wheelDeltaX = wheelDeltaY;\n      wheelDeltaY = 0;\n    }\n\n    var newX = void 0;\n    var newY = void 0;\n    if (this.options.snap) {\n      newX = this.currentPage.pageX;\n      newY = this.currentPage.pageY;\n\n      if (wheelDeltaX > 0) {\n        newX--;\n      } else if (wheelDeltaX < 0) {\n        newX++;\n      }\n\n      if (wheelDeltaY > 0) {\n        newY--;\n      } else if (wheelDeltaY < 0) {\n        newY++;\n      }\n\n      this._goToPage(newX, newY);\n      return;\n    }\n\n    newX = this.x + Math.round(this.hasHorizontalScroll ? wheelDeltaX : 0);\n    newY = this.y + Math.round(this.hasVerticalScroll ? wheelDeltaY : 0);\n\n    this.movingDirectionX = this.directionX = wheelDeltaX > 0 ? -1 : wheelDeltaX < 0 ? 1 : 0;\n    this.movingDirectionY = this.directionY = wheelDeltaY > 0 ? -1 : wheelDeltaY < 0 ? 1 : 0;\n\n    if (newX > this.minScrollX) {\n      newX = this.minScrollX;\n    } else if (newX < this.maxScrollX) {\n      newX = this.maxScrollX;\n    }\n\n    if (newY > this.minScrollY) {\n      newY = this.minScrollY;\n    } else if (newY < this.maxScrollY) {\n      newY = this.maxScrollY;\n    }\n\n    var needTriggerEnd = this.y === newY;\n    this.scrollTo(newX, newY, easeTime, ease.swipe);\n    this.trigger('scroll', {\n      x: this.x,\n      y: this.y\n    });\n    clearTimeout(this.mouseWheelEndTimer);\n    if (needTriggerEnd) {\n      this.mouseWheelEndTimer = setTimeout(function () {\n        _this2.trigger('scrollEnd', {\n          x: _this2.x,\n          y: _this2.y\n        });\n      }, easeTime);\n    }\n  };\n}\n\nfunction zoomMixin(BScroll) {\n  BScroll.prototype._initZoom = function () {\n    var _options$zoom = this.options.zoom,\n        _options$zoom$start = _options$zoom.start,\n        start = _options$zoom$start === undefined ? 1 : _options$zoom$start,\n        _options$zoom$min = _options$zoom.min,\n        min = _options$zoom$min === undefined ? 1 : _options$zoom$min,\n        _options$zoom$max = _options$zoom.max,\n        max = _options$zoom$max === undefined ? 4 : _options$zoom$max;\n\n    this.scale = Math.min(Math.max(start, min), max);\n    this.setScale(this.scale);\n    this.scrollerStyle[style.transformOrigin] = '0 0';\n  };\n\n  BScroll.prototype._zoomTo = function (scale, originX, originY, startScale) {\n    this.scaled = true;\n\n    var lastScale = scale / (startScale || this.scale);\n    this.setScale(scale);\n\n    this.refresh();\n\n    var newX = Math.round(this.startX - (originX - this.relativeX) * (lastScale - 1));\n    var newY = Math.round(this.startY - (originY - this.relativeY) * (lastScale - 1));\n\n    if (newX > this.minScrollX) {\n      newX = this.minScrollX;\n    } else if (newX < this.maxScrollX) {\n      newX = this.maxScrollX;\n    }\n\n    if (newY > this.minScrollY) {\n      newY = this.minScrollY;\n    } else if (newY < this.maxScrollY) {\n      newY = this.maxScrollY;\n    }\n\n    if (this.x !== newX || this.y !== newY) {\n      this.scrollTo(newX, newY, this.options.bounceTime);\n    }\n\n    this.scaled = false;\n  };\n\n  BScroll.prototype.zoomTo = function (scale, x, y) {\n    var _offsetToBody = offsetToBody(this.wrapper),\n        left = _offsetToBody.left,\n        top = _offsetToBody.top;\n\n    var originX = x + left - this.x;\n    var originY = y + top - this.y;\n    this._zoomTo(scale, originX, originY);\n  };\n\n  BScroll.prototype._zoomStart = function (e) {\n    var firstFinger = e.touches[0];\n    var secondFinger = e.touches[1];\n    var deltaX = Math.abs(firstFinger.pageX - secondFinger.pageX);\n    var deltaY = Math.abs(firstFinger.pageY - secondFinger.pageY);\n\n    this.startDistance = getDistance(deltaX, deltaY);\n    this.startScale = this.scale;\n\n    var _offsetToBody2 = offsetToBody(this.wrapper),\n        left = _offsetToBody2.left,\n        top = _offsetToBody2.top;\n\n    this.originX = Math.abs(firstFinger.pageX + secondFinger.pageX) / 2 + left - this.x;\n    this.originY = Math.abs(firstFinger.pageY + secondFinger.pageY) / 2 + top - this.y;\n\n    this.trigger('zoomStart');\n  };\n\n  BScroll.prototype._zoom = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n\n    if (this.options.preventDefault) {\n      e.preventDefault();\n    }\n\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    var firstFinger = e.touches[0];\n    var secondFinger = e.touches[1];\n    var deltaX = Math.abs(firstFinger.pageX - secondFinger.pageX);\n    var deltaY = Math.abs(firstFinger.pageY - secondFinger.pageY);\n    var distance = getDistance(deltaX, deltaY);\n    var scale = distance / this.startDistance * this.startScale;\n\n    this.scaled = true;\n\n    var _options$zoom2 = this.options.zoom,\n        _options$zoom2$min = _options$zoom2.min,\n        min = _options$zoom2$min === undefined ? 1 : _options$zoom2$min,\n        _options$zoom2$max = _options$zoom2.max,\n        max = _options$zoom2$max === undefined ? 4 : _options$zoom2$max;\n\n\n    if (scale < min) {\n      scale = 0.5 * min * Math.pow(2.0, scale / min);\n    } else if (scale > max) {\n      scale = 2.0 * max * Math.pow(0.5, max / scale);\n    }\n\n    var lastScale = scale / this.startScale;\n\n    var x = this.startX - (this.originX - this.relativeX) * (lastScale - 1);\n    var y = this.startY - (this.originY - this.relativeY) * (lastScale - 1);\n\n    this.setScale(scale);\n\n    this.scrollTo(x, y, 0);\n  };\n\n  BScroll.prototype._zoomEnd = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n\n    if (this.options.preventDefault) {\n      e.preventDefault();\n    }\n\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    this.isInTransition = false;\n    this.isAnimating = false;\n    this.initiated = 0;\n\n    var _options$zoom3 = this.options.zoom,\n        _options$zoom3$min = _options$zoom3.min,\n        min = _options$zoom3$min === undefined ? 1 : _options$zoom3$min,\n        _options$zoom3$max = _options$zoom3.max,\n        max = _options$zoom3$max === undefined ? 4 : _options$zoom3$max;\n\n\n    var scale = this.scale > max ? max : this.scale < min ? min : this.scale;\n\n    this._zoomTo(scale, this.originX, this.originY, this.startScale);\n\n    this.trigger('zoomEnd');\n  };\n}\n\n// import { ease } from '../util/ease'\n\n// Number of items to instantiate beyond current view in the scroll direction.\nvar RUNWAY_ITEMS = 30;\n\n// Number of items to instantiate beyond current view in the opposite direction.\nvar RUNWAY_ITEMS_OPPOSITE = 10;\n\n// The animation interval (in ms) for fading in content from tombstones.\nvar ANIMATION_DURATION_MS = 200;\n\n// The number of pixels of default additional length to allow scrolling to.\nvar DEFAULT_SCROLL_RUNWAY = 2000;\n\nfunction infiniteMixin(BScroll) {\n  BScroll.prototype._initInfinite = function () {\n    this.options.probeType = 3;\n    this.maxScrollY = -DEFAULT_SCROLL_RUNWAY;\n    this.infiniteScroller = new InfiniteScroller(this, this.options.infinity);\n  };\n}\n\nfunction isTombstoneNode(node) {\n  if (node && node.classList) {\n    return node.classList.contains('tombstone');\n  }\n}\n\nfunction InfiniteScroller(scroller, options) {\n  var _this = this;\n\n  this.options = options;\n  assert(typeof this.options.createTombstone === 'function', 'Infinite scroll need createTombstone Function to create tombstone');\n\n  assert(typeof this.options.fetch === 'function', 'Infinite scroll need fetch Function to fetch new data.');\n\n  assert(typeof this.options.render === 'function', 'Infinite scroll need render Function to render each item.');\n\n  this.firstAttachedItem = 0;\n  this.lastAttachedItem = 0;\n\n  this.anchorScrollTop = 0;\n  this.anchorItem = {\n    index: 0,\n    offset: 0\n  };\n  this.tombstoneHeight = 0;\n  this.tombstoneWidth = 0;\n  this.tombstones = [];\n  this.tombstonesAnimationHandlers = [];\n\n  this.items = [];\n  this.loadedItems = 0;\n  this.requestInProgress = false;\n  this.hasMore = true;\n\n  this.scroller = scroller;\n  this.wrapperEl = this.scroller.wrapper;\n  this.scrollerEl = this.scroller.scroller;\n\n  this.scroller.on('resize', function () {\n    _this.onResize();\n  });\n  this.scroller.on('destroy', function () {\n    _this.destroy();\n  });\n\n  // wait scroll core init\n  this._onResizeHandler = setTimeout(function () {\n    _this.onResize();\n\n    // must wait tombstoneHeight has size\n    _this.scroller.on('scroll', function () {\n      _this.onScroll();\n    });\n  });\n}\n\nInfiniteScroller.prototype.destroy = function () {\n  var _this2 = this;\n\n  // In extreme scene, destroy is triggered before _onResizeHandler\n  clearTimeout(this._onResizeHandler);\n  this.tombstonesAnimationHandlers.forEach(function (handler) {\n    clearTimeout(handler);\n  });\n  this.tombstonesAnimationHandlers = null;\n  this.items.forEach(function (item) {\n    if (item.node) {\n      _this2.scrollerEl.removeChild(item.node);\n      item.node = null;\n    }\n  });\n  this.scroller.infiniteScroller = null;\n  this.scroller = null;\n  this.wrapperEl = null;\n  this.scrollerEl = null;\n  this.items = null;\n  this.tombstones = null;\n};\n\nInfiniteScroller.prototype.onScroll = function () {\n  var scrollTop = -this.scroller.y;\n  var delta = scrollTop - this.anchorScrollTop;\n  if (scrollTop === 0) {\n    this.anchorItem = {\n      index: 0,\n      offset: 0\n    };\n  } else {\n    this.anchorItem = this._calculateAnchoredItem(this.anchorItem, delta);\n  }\n\n  this.anchorScrollTop = scrollTop;\n  var lastScreenItem = this._calculateAnchoredItem(this.anchorItem, this.scroller.wrapperHeight);\n\n  var start = this.anchorItem.index;\n  var end = lastScreenItem.index;\n  if (delta < 0) {\n    start -= RUNWAY_ITEMS;\n    end += RUNWAY_ITEMS_OPPOSITE;\n  } else {\n    start -= RUNWAY_ITEMS_OPPOSITE;\n    end += RUNWAY_ITEMS;\n  }\n  this.fill(start, end);\n  this.maybeRequestContent();\n};\n\nInfiniteScroller.prototype.onResize = function () {\n  var tombstone = this.options.createTombstone();\n  tombstone.style.position = 'absolute';\n  this.scrollerEl.appendChild(tombstone);\n  tombstone.style.display = '';\n  this.tombstoneHeight = tombstone.offsetHeight;\n  this.tombstoneWidth = tombstone.offsetWidth;\n  this.scrollerEl.removeChild(tombstone);\n\n  for (var i = 0; i < this.items.length; i++) {\n    this.items[i].height = this.items[i].width = 0;\n  }\n\n  this.onScroll();\n};\n\nInfiniteScroller.prototype.fill = function (start, end) {\n  this.firstAttachedItem = Math.max(0, start);\n  if (!this.hasMore) {\n    end = Math.min(end, this.items.length);\n  }\n  this.lastAttachedItem = end;\n  this.attachContent();\n};\n\nInfiniteScroller.prototype.maybeRequestContent = function () {\n  var _this3 = this;\n\n  if (this.requestInProgress || !this.hasMore) {\n    return;\n  }\n  var itemsNeeded = this.lastAttachedItem - this.loadedItems;\n  if (itemsNeeded <= 0) {\n    return;\n  }\n  this.requestInProgress = true;\n  this.options.fetch(itemsNeeded).then(function (items) {\n    _this3.requestInProgress = false;\n    if (items) {\n      _this3.addContent(items);\n    } else {\n      _this3.hasMore = false;\n      var tombstoneLen = _this3._removeTombstones();\n      var curPos = 0;\n      if (_this3.anchorItem.index <= _this3.items.length) {\n        curPos = _this3._fixScrollPosition();\n        _this3._setupAnimations({}, curPos);\n        _this3.scroller.resetPosition(_this3.scroller.options.bounceTime);\n      } else {\n        _this3.anchorItem.index -= tombstoneLen;\n        curPos = _this3._fixScrollPosition();\n        _this3._setupAnimations({}, curPos);\n        _this3.scroller.stop();\n        _this3.scroller.resetPosition();\n        _this3.onScroll();\n      }\n    }\n  });\n};\n\nInfiniteScroller.prototype.addContent = function (items) {\n  for (var i = 0; i < items.length; i++) {\n    if (this.items.length <= this.loadedItems) {\n      this._addItem();\n    }\n    this.items[this.loadedItems++].data = items[i];\n  }\n  this.attachContent();\n  this.maybeRequestContent();\n};\n\nInfiniteScroller.prototype.attachContent = function () {\n  var unusedNodes = this._collectUnusedNodes();\n  var tombstoneAnimations = this._createDOMNodes(unusedNodes);\n  this._cleanupUnusedNodes(unusedNodes);\n  this._cacheNodeSize();\n  var curPos = this._fixScrollPosition();\n  this._setupAnimations(tombstoneAnimations, curPos);\n};\n\nInfiniteScroller.prototype.resetMore = function () {\n  this.hasMore = true;\n};\n\nInfiniteScroller.prototype._removeTombstones = function () {\n  var markIndex = void 0;\n  var tombstoneLen = 0;\n  var itemLen = this.items.length;\n  for (var i = 0; i < itemLen; i++) {\n    var currentNode = this.items[i].node;\n    var currentData = this.items[i].data;\n    if ((!currentNode || isTombstoneNode(currentNode)) && !currentData) {\n      // 0 should be excluded\n      if (markIndex === void 0) {\n        markIndex = i;\n      }\n      if (currentNode) {\n        this.scrollerEl.removeChild(currentNode);\n      }\n    }\n  }\n  tombstoneLen = itemLen - markIndex;\n  this.items.splice(markIndex);\n  this.lastAttachedItem = Math.min(this.lastAttachedItem, this.items.length);\n  return tombstoneLen;\n};\n\nInfiniteScroller.prototype._collectUnusedNodes = function () {\n  var unusedNodes = [];\n  for (var i = 0; i < this.items.length; i++) {\n    // Skip the items which should be visible.\n    if (i === this.firstAttachedItem) {\n      i = this.lastAttachedItem - 1;\n      continue;\n    }\n    var currentNode = this.items[i].node;\n    if (currentNode) {\n      if (isTombstoneNode(currentNode)) {\n        // Cache tombstones for reuse\n        this.tombstones.push(currentNode);\n        this.tombstones[this.tombstones.length - 1].style.display = 'none';\n      } else {\n        unusedNodes.push(currentNode);\n      }\n    }\n    this.items[i].node = null;\n  }\n  return unusedNodes;\n};\n\nInfiniteScroller.prototype._createDOMNodes = function (unusedNodes) {\n  var tombstoneAnimations = {};\n  for (var i = this.firstAttachedItem; i < this.lastAttachedItem; i++) {\n    while (this.items.length <= i) {\n      this._addItem();\n    }\n    var currentNode = this.items[i].node;\n    var currentData = this.items[i].data;\n    if (currentNode) {\n      if (isTombstoneNode(currentNode) && currentData) {\n        currentNode.style.zIndex = 1;\n        tombstoneAnimations[i] = [currentNode, this.items[i].top - this.anchorScrollTop];\n        this.items[i].node = null;\n      } else {\n        continue;\n      }\n    }\n    var node = currentData ? this.options.render(currentData, unusedNodes.pop()) : this._getTombStone();\n    node.style.position = 'absolute';\n    this.items[i].top = -1;\n    this.scrollerEl.appendChild(node);\n    this.items[i].node = node;\n  }\n  return tombstoneAnimations;\n};\n\nInfiniteScroller.prototype._cleanupUnusedNodes = function (unusedNodes) {\n  while (unusedNodes.length) {\n    this.scrollerEl.removeChild(unusedNodes.pop());\n  }\n};\n\nInfiniteScroller.prototype._cacheNodeSize = function () {\n  for (var i = this.firstAttachedItem; i < this.lastAttachedItem; i++) {\n    var item = this.items[i];\n    // Only cache the height if we have the real contents, not a placeholder.\n    if (item.data && !item.height) {\n      var isTombstone = isTombstoneNode(item.node);\n      item.height = isTombstone ? this.tombstoneHeight : item.node.offsetHeight;\n      item.width = isTombstone ? this.tombstoneWidth : item.node.offsetWidth;\n    }\n  }\n};\n\nInfiniteScroller.prototype._fixScrollPosition = function () {\n  this.anchorScrollTop = 0;\n  for (var _i = 0; _i < this.anchorItem.index; _i++) {\n    this.anchorScrollTop += this.items[_i].height || this.tombstoneHeight;\n  }\n  this.anchorScrollTop += this.anchorItem.offset;\n\n  // Position all nodes.\n  var curPos = this.anchorScrollTop - this.anchorItem.offset;\n  var i = this.anchorItem.index;\n  while (i > this.firstAttachedItem) {\n    curPos -= this.items[i - 1].height || this.tombstoneHeight;\n    i--;\n  }\n\n  return curPos;\n};\n\nInfiniteScroller.prototype._setupAnimations = function (tombstoneAnimations, curPos) {\n  var _this4 = this;\n\n  for (var i in tombstoneAnimations) {\n    var animation = tombstoneAnimations[i];\n    this.items[i].node.style[style.transform] = 'translateY(' + (this.anchorScrollTop + animation[1]) + 'px) scale(' + this.tombstoneWidth / this.items[i].width + ', ' + this.tombstoneHeight / this.items[i].height + ')';\n    // Call offsetTop on the nodes to be animated to force them to apply current transforms.\n    /* eslint-disable no-unused-expressions */\n    this.items[i].node.offsetTop;\n    animation[0].offsetTop;\n    this.items[i].node.style[style.transition] = cssVendor + 'transform ' + ANIMATION_DURATION_MS + 'ms';\n  }\n\n  for (var _i2 = this.firstAttachedItem; _i2 < this.lastAttachedItem; _i2++) {\n    var _animation = tombstoneAnimations[_i2];\n    if (_animation) {\n      var tombstoneNode = _animation[0];\n      tombstoneNode.style[style.transition] = cssVendor + 'transform ' + ANIMATION_DURATION_MS + 'ms, opacity ' + ANIMATION_DURATION_MS + 'ms';\n      tombstoneNode.style[style.transform] = 'translateY(' + curPos + 'px) scale(' + this.items[_i2].width / this.tombstoneWidth + ', ' + this.items[_i2].height / this.tombstoneHeight + ')';\n      tombstoneNode.style.opacity = 0;\n    }\n    if (curPos !== this.items[_i2].top) {\n      if (!_animation) {\n        this.items[_i2].node.style[style.transition] = '';\n      }\n      this.items[_i2].node.style[style.transform] = 'translateY(' + curPos + 'px)';\n    }\n    this.items[_i2].top = curPos;\n    curPos += this.items[_i2].height || this.tombstoneHeight;\n  }\n\n  this.scroller.maxScrollY = -(curPos - this.scroller.wrapperHeight + (this.hasMore ? DEFAULT_SCROLL_RUNWAY : 0));\n\n  var tombstoneAnimationsHandler = setTimeout(function () {\n    for (var _i3 in tombstoneAnimations) {\n      var _animation2 = tombstoneAnimations[_i3];\n      _animation2[0].style.display = 'none';\n      // Tombstone can be recycled now.\n      _this4.tombstones.push(_animation2[0]);\n    }\n  }, ANIMATION_DURATION_MS);\n\n  this.tombstonesAnimationHandlers.push(tombstoneAnimationsHandler);\n};\n\nInfiniteScroller.prototype._getTombStone = function () {\n  var tombstone = this.tombstones.pop();\n  if (tombstone) {\n    tombstone.style.display = '';\n    tombstone.style.opacity = 1;\n    tombstone.style[style.transform] = '';\n    tombstone.style[style.transition] = '';\n    return tombstone;\n  }\n  return this.options.createTombstone();\n};\n\nInfiniteScroller.prototype._addItem = function () {\n  this.items.push({\n    data: null,\n    node: null,\n    height: 0,\n    width: 0,\n    top: 0\n  });\n};\n\nInfiniteScroller.prototype._calculateAnchoredItem = function (initialAnchor, delta) {\n  if (delta === 0) {\n    return initialAnchor;\n  }\n  var i = initialAnchor.index;\n  var tombstones = 0;\n\n  delta += initialAnchor.offset;\n  if (delta < 0) {\n    while (delta < 0 && i > 0 && this.items[i - 1].height) {\n      delta += this.items[i - 1].height;\n      i--;\n    }\n    tombstones = Math.max(-i, Math.ceil(Math.min(delta, 0) / this.tombstoneHeight));\n  } else {\n    while (delta > 0 && i < this.items.length && this.items[i].height && this.items[i].height < delta) {\n      delta -= this.items[i].height;\n      i++;\n    }\n    if (i >= this.items.length || !this.items[i].height) {\n      tombstones = Math.floor(Math.max(delta, 0) / this.tombstoneHeight);\n    }\n  }\n  i += tombstones;\n  delta -= tombstones * this.tombstoneHeight;\n\n  return {\n    index: i,\n    offset: delta\n  };\n};\n\nfunction BScroll(el, options) {\n  this.wrapper = typeof el === 'string' ? document.querySelector(el) : el;\n  if (!this.wrapper) {\n    warn('Can not resolve the wrapper DOM.');\n  }\n  this.scroller = this.wrapper.children[0];\n  if (!this.scroller) {\n    warn('The wrapper need at least one child element to be scroller.');\n  }\n  // cache style for better performance\n  this.scrollerStyle = this.scroller.style;\n\n  this._init(options);\n}\n\ninitMixin(BScroll);\ncoreMixin(BScroll);\neventMixin(BScroll);\nsnapMixin(BScroll);\nwheelMixin(BScroll);\nscrollbarMixin(BScroll);\npullDownMixin(BScroll);\npullUpMixin(BScroll);\nmouseWheelMixin(BScroll);\nzoomMixin(BScroll);\ninfiniteMixin(BScroll);\n\nBScroll.Version = '1.15.2';\n\nexport default BScroll;\n","<template>\n  <div class=\"home\">\n    <div style=\"height:90vh\" ref=\"wrap\">\n      <div>\n        <header-com></header-com>\n        <index-nav-com></index-nav-com>\n\n        <div class=\"for-title\">\n          <h1>为你推荐</h1>\n        </div>\n        <div class=\"list\">\n          <div class=\"listFirst\" v-if=\"styleFlag\">\n            <div\n              class=\"list-one\"\n              v-for=\"(item, index) in forList\"\n              :key=\"index\"\n              @click=\"toInfo(item.goods_id)\"\n            >\n              <!-- <router-link :to=\"{name:'info',params:{pid:item.goods_id}}\"> -->\n              <img :src=\"item.image\" alt=\"\" />\n              <p>{{ item.goods_name }}</p>\n              <div class=\"for-price\">\n                <span>￥{{ item.price }}</span>\n                <span>看相似</span>\n              </div>\n              <!-- </router-link> -->\n            </div>\n          </div>\n          <div class=\"listSecond\" v-if=\"!styleFlag\">\n            <van-card\n              v-for=\"(item, index) in forList\"\n              :key=\"index\"\n              @click=\"toInfo(item.goods_id)\"\n              :price=\"item.price\"\n              :desc=\"item.goods_name\"\n              :thumb=\"item.image\"\n            >\n              <template #num>\n                <span>看相似</span>\n              </template>\n            </van-card>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"icon\" @click=\"changeStyle\">\n      <van-icon size=\"32\" :name=\"iconStyle\" color=\"#ccc\" />\n    </div>\n    <!-- <foryou-com></foryou-com> -->\n  </div>\n</template>\n\n<script>\nimport HeaderCom from \"../components/header.vue\";\nimport IndexNavCom from \"../components/indexnav.vue\";\n// 为你推荐\n// import ForyouCom from \"../components/foryou.vue\"\nimport BScroll from \"better-scroll\";\n\nexport default {\n  name: \"Home\",\n  components: {\n    HeaderCom,\n    IndexNavCom\n    // ForyouCom,\n  },\n  data() {\n    return {\n      forList: [],\n      myscroll: \"\",\n      page: 1,\n      styleFlag: true,\n      iconStyle: \"orders-o\"\n    };\n  },\n  created() {\n    this.getlist();\n  },\n  methods: {\n    toInfo(pid) {\n      this.$router.push({ name: \"info\", params: { pid: pid } });\n    },\n    getlist() {\n      this.axios({\n        url: \"https://api.ymduo.com/Interface/recommendlists\",\n        method: \"post\",\n        data: this.$qs.stringify({\n          p: this.page\n        })\n      }).then(res => {\n        console.log(\"aaa\", res.data.result.data);\n        this.forList = this.forList.concat(res.data.result.data);\n      });\n    },\n    // 切换展示样式\n    changeStyle() {\n      this.styleFlag = !this.styleFlag;\n      this.iconStyle = this.iconStyle == \"apps-o\" ? \"orders-o\" : \"apps-o\";\n    }\n  },\n  mounted() {\n    // 初始化\n    this.$nextTick(() => {\n      this.myscroll = new BScroll(this.$refs.wrap, {\n        scrollY: true, //y方向滚动开启\n        click: true, //开启点击\n        pullDownRefresh: {\n          threshold: 50,\n          probeType: 3\n        },\n        pullUpLoad: {\n          threshold: 744\n        }\n      });\n      // 监控上拉\n      this.myscroll.on(\"pullingUp\", () => {\n        this.page++;\n        this.getlist();\n        console.log(\"this.page\", this.page);\n        this.$nextTick(() => {\n          this.myscroll.refresh(); //dom结构发生变化,重新初始化BScroll\n        });\n        this.myscroll.finishPullUp(); // 上拉加载动作完成后调用此方法告诉BScroll完成一次上拉动作\n      });\n      // 监控下拉\n      this.myscroll.on(\"pullingDown\", () => {\n        this.forList = [];\n        this.page++;\n        this.getlist();\n        this.$nextTick(() => {\n          this.myscroll.refresh(); // DOM 结构发生变化后，重新初始化BScroll\n        });\n        this.myscroll.finishPullDown(); // 下拉加载动作完成后调用此方法告诉BScroll完成一次上拉动作\n      });\n    });\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.for-title {\n  width: 356px;\n  height: 35px;\n  h1 {\n    color: blue;\n    font-size: 20px;\n    text-align: center;\n    line-height: 35px;\n    letter-spacing: 8px;\n  }\n}\n\n.list .listFirst {\n  padding: 0 5px 60px;\n  box-sizing: border-box;\n  width: 375px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n\n  .list-one {\n    width: 177px;\n    height: 271px;\n    border: 1px solid #ccc;\n    margin: 2px 0;\n    img {\n      width: 176px;\n      height: 176px;\n    }\n    p {\n      width: 100%;\n      height: 32px;\n      line-height: 16px;\n      font-size: 12px;\n      padding: 0 3px;\n      box-sizing: border-box;\n      word-wrap: break-word;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      display: -webkit-box;\n      -webkit-box-orient: vertical;\n      -webkit-line-clamp: 2;\n    }\n    .for-price {\n      margin-top: 10px;\n      display: flex;\n      padding: 0 3px;\n      box-sizing: border-box;\n      justify-content: space-between;\n      :nth-of-type(1) {\n        color: red;\n        font-size: 16px;\n      }\n      :nth-of-type(2) {\n        display: inline-block;\n        width: 50px;\n        height: 24px;\n        line-height: 24px;\n        text-align: center;\n        border: 1px solid #ccc;\n        margin-right: 10px;\n      }\n    }\n  }\n}\n.list .listSecond {\n  padding-bottom: 60px;\n  .van-card {\n    background-color: white;\n    .van-card__num {\n      width: 50px;\n      height: 24px;\n      line-height: 24px;\n      text-align: center;\n      border: 1px solid #ccc;\n    }\n    .van-card__desc {\n      font-size: 15px;\n      height: 40px;\n      line-height: 20px;\n      overflow: hidden;\n      max-height: 40px;\n      text-overflow: ellipsis;\n      display: -webkit-box;\n      -webkit-box-orient: vertical;\n      -webkit-line-clamp: 2;\n      white-space: pre-wrap;\n    }\n  }\n}\n.icon {\n  width: 40px;\n  height: 40px;\n  background-color: white;\n  position: fixed;\n  bottom: 10%;\n  right: 4%;\n  border-radius: 50%;\n  .van-icon {\n    top: 5px;\n    left: 5px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=27c31389&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=27c31389&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27c31389\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=27c31389&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=27c31389&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=style&index=0&id=d1732dbc&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=style&index=0&id=d1732dbc&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n"],"sourceRoot":""}