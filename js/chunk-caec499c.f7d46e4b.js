(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-caec499c"],{1276:function(t,e,n){"use strict";var i=n("d784"),o=n("44e7"),r=n("825a"),a=n("1d80"),s=n("4840"),c=n("8aa5"),l=n("50c4"),u=n("14c3"),d=n("9263"),f=n("d039"),p=[].push,h=Math.min,g=4294967295,m=!f((function(){return!RegExp(g,"y")}));i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(a(this)),r=void 0===n?g:n>>>0;if(0===r)return[];if(void 0===t)return[i];if(!o(t))return e.call(i,t,r);var s,c,l,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,m=new RegExp(t.source,f+"g");while(s=d.call(m,i)){if(c=m.lastIndex,c>h&&(u.push(i.slice(h,s.index)),s.length>1&&s.index<i.length&&p.apply(u,s.slice(1)),l=s[0].length,h=c,u.length>=r))break;m.lastIndex===s.index&&m.lastIndex++}return h===i.length?!l&&m.test("")||u.push(""):u.push(i.slice(h)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=a(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,o,n):i.call(String(o),e,n)},function(t,o){var a=n(i,t,this,o,i!==e);if(a.done)return a.value;var d=r(t),f=String(this),p=s(d,RegExp),v=d.unicode,x=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),y=new p(m?d:"^(?:"+d.source+")",x),_=void 0===o?g:o>>>0;if(0===_)return[];if(0===f.length)return null===u(y,f)?[f]:[];var C=0,E=0,k=[];while(E<f.length){y.lastIndex=m?E:0;var b,I=u(y,m?f:f.slice(E));if(null===I||(b=h(l(y.lastIndex+(m?0:E)),f.length))===C)E=c(f,E,v);else{if(k.push(f.slice(C,E)),k.length===_)return k;for(var S=1;S<=I.length-1;S++)if(k.push(I[S]),k.length===_)return k;E=C=b}}return k.push(f.slice(C)),k}]}),!m)},"14c3":function(t,e,n){var i=n("c6b6"),o=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var r=n.call(t,e);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},"159b":function(t,e,n){var i=n("da84"),o=n("fdbc"),r=n("17c2"),a=n("9112");for(var s in o){var c=i[s],l=c&&c.prototype;if(l&&l.forEach!==r)try{a(l,"forEach",r)}catch(u){l.forEach=r}}},"17c2":function(t,e,n){"use strict";var i=n("b727").forEach,o=n("a640"),r=n("ae40"),a=o("forEach"),s=r("forEach");t.exports=a&&s?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,n){var i=n("d039"),o=n("b622"),r=n("2d00"),a=o("species");t.exports=function(t){return r>=51||!i((function(){var e=[],n=e.constructor={};return n[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2469:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info"},[n("van-nav-bar",{attrs:{"left-arrow":"",fixed:""},on:{"click-left":function(e){return t.$router.go(-1)}},scopedSlots:t._u([t.infoFlag?{key:"title",fn:function(){return[n("ul",{staticClass:"info-nav"},t._l(t.titleNav,(function(e,i){return n("li",{key:i,class:t.activeIndex==i?"active":"",on:{click:function(e){return t.toTruePart(i)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]},proxy:!0}:null,{key:"right",fn:function(){return[n("van-icon",{attrs:{name:"more-o",size:"30",color:"black"}})]},proxy:!0}],null,!0)}),n("van-swipe",{attrs:{id:"model0"},on:{change:t.onChange}},t._l(t.infoListImage,(function(e,i){return n("van-swipe-item",{key:i,on:{click:function(e){return t.forImage(i)}}},[n("img",{attrs:{src:e,alt:""}})])})),1),n("div",{staticClass:"infoCla"},[n("div",{staticClass:"infoPrice"},[n("span",[t._v("￥"+t._s(t.infoData.price))]),n("div",{on:{click:t.iconChange}},[n("van-icon",{attrs:{name:t.iconName,size:"16"}}),n("span",[t._v("收藏")])],1)]),n("p",[t._v(t._s(t.infoData.goods_name))]),t._m(0),n("div",{staticClass:"recommendCla",attrs:{id:"model2"}},[n("h1",[t._v("热门推荐")]),n("div",{staticClass:"commendFirst"},t._l(t.recommendList,(function(e,i){return n("div",{key:i,staticClass:"list-one",on:{click:function(n){return t.toInfo(e.goods_id)}}},[n("img",{attrs:{src:e.image,alt:""}}),n("p",[t._v(t._s(e.goods_name))]),n("div",{staticClass:"for-price"},[n("span",[t._v("￥"+t._s(e.price))]),n("span",[t._v("看相似")])])])})),0)]),n("div",{staticClass:"detailCla",attrs:{id:"model3"}},[n("h1",[t._v("详情 Detail")]),n("h2",[t._v(t._s(t.goodDetail.title))]),n("div",{ref:"detailImg",domProps:{innerHTML:t._s(t.goodDetail.in_detail)}})])]),n("van-goods-action",[n("van-goods-action-icon",{attrs:{icon:"chat-o",text:"客服",dot:""}}),n("van-goods-action-icon",{attrs:{icon:"cart-o",text:"购物车",badge:t.$store.state.allCartNum,to:"/cart"}}),n("van-goods-action-icon",{attrs:{icon:"shop-o",text:"店铺"}}),n("van-goods-action-button",{attrs:{type:"warning",text:"加入购物车"},on:{click:t.addCart}}),n("van-goods-action-button",{attrs:{type:"danger",text:"立即购买"}})],1),n("van-sku",{attrs:{sku:t.sku,goods:t.goods,"goods-id":t.goodsId,quota:5,"quota-used":0,"message-config":t.messageConfig,"custom-stepper-config":t.customStepperConfig},on:{"buy-clicked":t.onBuyClicked,"add-cart":t.onAddCartClicked,"sku-selected":t.skuSelected,"stepper-change":t.stepperChange},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appraiseCla",attrs:{id:"model1"}},[n("h1",[t._v("评价")]),n("div",{staticClass:"appraiseContent"},[t._v(" 暂时还没有评价~去看看详情吧... ")])])}],r=(n("4160"),n("d81d"),n("d3b7"),n("ac1f"),n("1276"),n("159b"),{name:"info",data:function(){return{infoListImage:[],infoData:{},pid:"",iconName:"star-o",show:!1,infoFlag:!1,goodsId:"",skuId:"",goodDetail:{},recommendList:[],activeIndex:0,scrollTop:0,titleNav:[{name:"商品"},{name:"评价"},{name:"推荐"},{name:"详情"}],stepperNum:1,initialSku:{s1:"10000",s2:"10001",selectedNum:5,selectedProp:{123:[1222]}},sku:{tree:[],list:[{id:2200,price:"",s1:"10000",s2:"10001",stock_num:9999},{id:2201,price:100,s1:"10000",s2:"10000",stock_num:9999},{id:2202,price:100,s1:"10001",s2:"10001",stock_num:9999},{id:2203,price:"",s1:"10001",s2:"10000",stock_num:9999},{id:2204,price:"",s1:"10002",s2:"10001",stock_num:9999},{id:2205,price:100,s1:"10002",s2:"10000",stock_num:9999}],price:"",stock_num:9999,collection_id:2261,none_sku:!1},goods:{},messageConfig:{uploadImg:function(){return new Promise((function(t){setTimeout((function(){return t("https://img.yzcdn.cn/upload_files/2017/02/21/FjKTOxjVgnUuPmHJRdunvYky9OHP.jpg!100x100.jpg")}),1e3)}))},uploadMaxSize:3,placeholderMap:{text:"xxx",tel:"xxx"},initialMessages:{"留言":"留言信息"}},customStepperConfig:{quotaText:"每次限购5件",handleOverLimit:function(t){console.log(t)}},handleStepperChange:function(t){console.log(t)},stockNum:9999,stockFormatter:function(t){console.log(t)}}},methods:{toInfo:function(t){this.$router.push({name:"info",params:{pid:t}}),this.pid=t,this.getInfoList();var e=document.documentElement||document.body;e.scrollTop=0},onChange:function(t){console.log(t)},forImage:function(t){this.$ImagePreview({images:this.infoListImage,startPosition:t})},iconChange:function(){"star-o"==this.iconName?this.iconName="star":this.iconName="star-o"},onBuyClicked:function(){console.log("立即购买按钮")},onAddCartClicked:function(){var t=this;this.show=!1,console.log("加入购物车按钮"),this.axios.post("https://api.ymduo.com/cart/add",this.$qs.stringify({user_id:956532,shop_id:this.infoData.storeInfo.store_id,goods_id:this.infoData.goods_id,sku_id:this.skuId,goods_num:this.stepperNum,active_type:0})).then((function(e){t.$Toast.success("加入购物车成功"),console.log(e),t.$store.commit("getCartNum")}))},addCart:function(){0==this.infoData.attr.length?this.onAddCartClicked():this.show=!0},skuSelected:function(t,e,n){var i=this;this.sku.list.forEach((function(t){t.price=100*i.infoData.price})),null!=n&&(this.skuId=n.id),console.log(this.sku.list),console.log(t,e,n)},stepperChange:function(t){this.stepperNum=t},toTruePart:function(t){this.activeIndex=t,document.getElementById("model"+t).scrollIntoView({behavior:"instant"})},infoScroll:function(){this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop,document.getElementsByClassName("van-nav-bar")[0].style.background="rgba(255,255,255, "+.0025*this.scrollTop+") ",0==this.scrollTop?this.infoFlag=!1:this.infoFlag=!0;var t=document.getElementById("model1").offsetTop-50,e=document.getElementById("model2").offsetTop-50,n=document.getElementById("model3").offsetTop-50;this.scrollTop<t?this.activeIndex=0:this.scrollTop>=t&&this.scrollTop<e?this.activeIndex=1:this.scrollTop>=e&&this.scrollTop<n?this.activeIndex=2:this.scrollTop>=n&&(this.activeIndex=3)},getInfoList:function(){var t=this;this.axios.get("https://api.ymduo.com/item/index",{params:{gid:this.pid}}).then((function(e){t.infoListImage=e.data.result.data.image,t.infoData=e.data.result.data;var n=[];e.data.result.data.attr.forEach((function(e,i){t.sku.list[i].price=100*t.infoData.price;var o=[];o=e.attr_values.split(",").map((function(t,e){return{id:"1000"+e,name:t}})),n.push({k:e.attr_name,v:o,k_s:"s"+(i+1)})})),t.sku.tree=n,t.sku.price=t.infoData.price,t.goods.picture=e.data.result.data.image[0],t.goodsId=t.infoData.goodsId,t.goodDetail=e.data.result.data.detail,t.recommendList=e.data.result.data.recommend,console.log("aa",t.recommendList)}))}},updated:function(){this.$refs.detailImg.querySelectorAll("img").forEach((function(t){t.style.width="100%"}))},mounted:function(){window.addEventListener("scroll",this.infoScroll),this.pid=this.$route.params.pid,this.getInfoList(),this.$store.commit("getCartNum")},destroyed:function(){window.removeEventListener("scroll",this.infoScroll)}}),a=r,s=(n("65b5"),n("2877")),c=Object(s["a"])(a,i,o,!1,null,null,null);e["default"]=c.exports},4160:function(t,e,n){"use strict";var i=n("23e7"),o=n("17c2");i({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"44e7":function(t,e,n){var i=n("861d"),o=n("c6b6"),r=n("b622"),a=r("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==o(t))}},6547:function(t,e,n){var i=n("a691"),o=n("1d80"),r=function(t){return function(e,n){var r,a,s=String(o(e)),c=i(n),l=s.length;return c<0||c>=l?t?"":void 0:(r=s.charCodeAt(c),r<55296||r>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):r:t?s.slice(c,c+2):a-56320+(r-55296<<10)+65536)}};t.exports={codeAt:r(!1),charAt:r(!0)}},"65b5":function(t,e,n){"use strict";var i=n("f43b"),o=n.n(i);o.a},"65f0":function(t,e,n){var i=n("861d"),o=n("e8b5"),r=n("b622"),a=r("species");t.exports=function(t,e){var n;return o(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?i(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"8aa5":function(t,e,n){"use strict";var i=n("6547").charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},9263:function(t,e,n){"use strict";var i=n("ad6d"),o=n("9f7f"),r=RegExp.prototype.exec,a=String.prototype.replace,s=r,c=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=o.UNSUPPORTED_Y||o.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=c||u||l;d&&(s=function(t){var e,n,o,s,d=this,f=l&&d.sticky,p=i.call(d),h=d.source,g=0,m=t;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),m=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(h="(?: "+h+")",m=" "+m,g++),n=new RegExp("^(?:"+h+")",p)),u&&(n=new RegExp("^"+h+"$(?!\\s)",p)),c&&(e=d.lastIndex),o=r.call(f?n:d,m),f?o?(o.input=o.input.slice(g),o[0]=o[0].slice(g),o.index=d.lastIndex,d.lastIndex+=o[0].length):d.lastIndex=0:c&&o&&(d.lastIndex=d.global?o.index+o[0].length:e),u&&o&&o.length>1&&a.call(o[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)})),o}),t.exports=s},"9f7f":function(t,e,n){"use strict";var i=n("d039");function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=i((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a640:function(t,e,n){"use strict";var i=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},ac1f:function(t,e,n){"use strict";var i=n("23e7"),o=n("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},ad6d:function(t,e,n){"use strict";var i=n("825a");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ae40:function(t,e,n){var i=n("83ab"),o=n("d039"),r=n("5135"),a=Object.defineProperty,s={},c=function(t){throw t};t.exports=function(t,e){if(r(s,t))return s[t];e||(e={});var n=[][t],l=!!r(e,"ACCESSORS")&&e.ACCESSORS,u=r(e,0)?e[0]:c,d=r(e,1)?e[1]:void 0;return s[t]=!!n&&!o((function(){if(l&&!i)return!0;var t={length:-1};l?a(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,u,d)}))}},b727:function(t,e,n){var i=n("0366"),o=n("44ad"),r=n("7b0b"),a=n("50c4"),s=n("65f0"),c=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,u=4==t,d=6==t,f=5==t||d;return function(p,h,g,m){for(var v,x,y=r(p),_=o(y),C=i(h,g,3),E=a(_.length),k=0,b=m||s,I=e?b(p,E):n?b(p,0):void 0;E>k;k++)if((f||k in _)&&(v=_[k],x=C(v,k,y),t))if(e)I[k]=x;else if(x)switch(t){case 3:return!0;case 5:return v;case 6:return k;case 2:c.call(I,v)}else if(u)return!1;return d?-1:l||u?u:I}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},d784:function(t,e,n){"use strict";n("ac1f");var i=n("6eeb"),o=n("d039"),r=n("b622"),a=n("9263"),s=n("9112"),c=r("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=r("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),p=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var h=r(t),g=!o((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),m=g&&!o((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return e=!0,null},n[h](""),!e}));if(!g||!m||"replace"===t&&(!l||!u||f)||"split"===t&&!p){var v=/./[h],x=n(h,""[t],(function(t,e,n,i,o){return e.exec===a?g&&!o?{done:!0,value:v.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),y=x[0],_=x[1];i(String.prototype,t,y),i(RegExp.prototype,h,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}d&&s(RegExp.prototype[h],"sham",!0)}},d81d:function(t,e,n){"use strict";var i=n("23e7"),o=n("b727").map,r=n("1dde"),a=n("ae40"),s=r("map"),c=a("map");i({target:"Array",proto:!0,forced:!s||!c},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,e,n){var i=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}},f43b:function(t,e,n){},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-caec499c.f7d46e4b.js.map