(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-466457ec","chunk-24affaa3"],{"159b":function(t,e,s){var r=s("da84"),a=s("fdbc"),n=s("17c2"),i=s("9112");for(var o in a){var d=r[o],c=d&&d.prototype;if(c&&c.forEach!==n)try{i(c,"forEach",n)}catch(u){c.forEach=n}}},"17c2":function(t,e,s){"use strict";var r=s("b727").forEach,a=s("a640"),n=s("ae40"),i=a("forEach"),o=n("forEach");t.exports=i&&o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,s){var r=s("d039"),a=s("b622"),n=s("2d00"),i=a("species");t.exports=function(t){return n>=51||!r((function(){var e=[],s=e.constructor={};return s[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1fb7":function(t,e,s){},"3b22":function(t,e,s){},4160:function(t,e,s){"use strict";var r=s("23e7"),a=s("17c2");r({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},4196:function(t,e,s){"use strict";var r=s("1fb7"),a=s.n(r);a.a},"65f0":function(t,e,s){var r=s("861d"),a=s("e8b5"),n=s("b622"),i=n("species");t.exports=function(t,e){var s;return a(t)&&(s=t.constructor,"function"!=typeof s||s!==Array&&!a(s.prototype)?r(s)&&(s=s[i],null===s&&(s=void 0)):s=void 0),new(void 0===s?Array:s)(0===e?0:e)}},"934f":function(t,e,s){"use strict";var r=s("3b22"),a=s.n(r);a.a},a640:function(t,e,s){"use strict";var r=s("d039");t.exports=function(t,e){var s=[][t];return!!s&&r((function(){s.call(null,e||function(){throw 1},1)}))}},a7e5:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"myAddress"},[s("van-nav-bar",{attrs:{title:"收获地址","left-arrow":""},on:{"click-left":t.onClickLeft}}),s("van-address-list",{attrs:{list:t.list,"default-tag-text":"默认"},on:{add:t.onAdd,edit:t.onEdit,select:t.onSelect},model:{value:t.chosenAddressId,callback:function(e){t.chosenAddressId=e},expression:"chosenAddressId"}})],1)},a=[],n=(s("d81d"),s("b0c0"),{name:"myAddress",components:{},data:function(){return{chosenAddressId:"1",list:[]}},methods:{onClickLeft:function(){this.$router.go(-1)},onAdd:function(){this.$router.push("/addressInsert")},onEdit:function(t){this.$router.push({name:"addressInsert",params:{raid:t.id}})},getMyAddress:function(){var t=this;this.axios.post("https://api.ymduo.com/Address/addresslists",this.$qs.stringify({uid:956532})).then((function(e){t.list=e.data.result.data.map((function(e){var s=null;return"1"==e.def?(s=!0,t.chosenAddressId=e.id):s=!1,{id:e.id,address:e.site+e.address,name:e.name,tel:e.phone,isDefault:s}}))}))},onSelect:function(t,e){console.log(t,e),this.$emit("getMyaddress",t)}},mounted:function(){this.getMyAddress()}}),i=n,o=(s("4196"),s("2877")),d=Object(o["a"])(i,r,a,!1,null,"a06730c0",null);e["default"]=d.exports},ae40:function(t,e,s){var r=s("83ab"),a=s("d039"),n=s("5135"),i=Object.defineProperty,o={},d=function(t){throw t};t.exports=function(t,e){if(n(o,t))return o[t];e||(e={});var s=[][t],c=!!n(e,"ACCESSORS")&&e.ACCESSORS,u=n(e,0)?e[0]:d,l=n(e,1)?e[1]:void 0;return o[t]=!!s&&!a((function(){if(c&&!r)return!0;var t={length:-1};c?i(t,1,{enumerable:!0,get:d}):t[1]=1,s.call(t,u,l)}))}},b727:function(t,e,s){var r=s("0366"),a=s("44ad"),n=s("7b0b"),i=s("50c4"),o=s("65f0"),d=[].push,c=function(t){var e=1==t,s=2==t,c=3==t,u=4==t,l=6==t,f=5==t||l;return function(h,p,m,v){for(var g,y,A=n(h),_=a(A),S=r(p,m,3),b=i(_.length),L=0,C=v||o,$=e?C(h,b):s?C(h,0):void 0;b>L;L++)if((f||L in _)&&(g=_[L],y=S(g,L,A),t))if(e)$[L]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return L;case 2:d.call($,g)}else if(u)return!1;return l?-1:c||u?u:$}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},d81d:function(t,e,s){"use strict";var r=s("23e7"),a=s("b727").map,n=s("1dde"),i=s("ae40"),o=n("map"),d=i("map");r({target:"Array",proto:!0,forced:!o||!d},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},e66a:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.addressFlag?t._e():s("div",{staticClass:"orderConfirm"},[s("van-nav-bar",{attrs:{title:"确认订单","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),s("div",{staticClass:"confirmcontent"},[s("div",{staticClass:"defaultaddress",on:{click:t.changeAddress}},[s("h1",[t._v(t._s(t.defaultAddress.name)+" "+t._s(t.defaultAddress.phone))]),s("p",[t.prompt?s("span",[t._v("默认")]):t._e(),t._v(t._s(t.defaultAddress.address))]),s("hr")]),s("div",{staticClass:"allOrder"},t._l(t.shopList,(function(e,r){return s("div",{key:r,staticClass:"storeCla"},[s("div",{staticClass:"shopCla"},[s("h1",[t._v(t._s(e.shop[0].shop_name))])]),t._l(e.shop,(function(t,e){return s("div",{key:e,staticClass:"goodsCla"},[s("van-card",{attrs:{price:t.price,title:t.goods_name,thumb:t.image,num:t.goods_num}})],1)}))],2)})),0),s("div",{staticClass:"payPrice"},[s("div",[s("span",[t._v("商品金额")]),s("span",{staticStyle:{color:"red"}},[t._v("￥"+t._s(t.truePrice-t.countFreight))])]),s("div",[s("span",[t._v("运费")]),s("span",{staticStyle:{color:"red"}},[t._v("+￥"+t._s(t.countFreight))])]),s("p",[t._v(" 实付金额:"),s("span",{staticStyle:{color:"red"}},[t._v("￥"+t._s(t.truePrice))])])]),s("van-button",{attrs:{type:"info"},on:{click:t.topay}},[t._v("在线支付")])],1)],1),s("div",[t.addressFlag?s("address-com",{on:{getMyaddress:t.changeAdd}}):t._e()],1)])},a=[],n=(s("4160"),s("159b"),s("a7e5")),i={name:"orderConfirm",components:{addressCom:n["default"]},data:function(){return{allAddress:[],defaultAddress:"",shopList:[],truePrice:"",addressFlag:!1,prompt:!0,countFreight:0,paySn:""}},methods:{getAllAddress:function(){var t=this;this.axios.post("https://api.ymduo.com/Address/addresslists",this.$qs.stringify({uid:956532})).then((function(e){console.log(e.data.result.data),t.allAddress=e.data.result.data;var s={};t.allAddress.forEach((function(e){"1"==e.def&&(s=e,t.prompt=!0)})),t.defaultAddress=s}))},changeAddress:function(){this.addressFlag=!0},changeAdd:function(t){this.addressFlag=!1,this.defaultAddress=t,"1"!=t.def&&(this.prompt=!1)},topay:function(){var t=this;console.log("确认支付"),this.axios.post("https://api.ymduo.com/order/generate_orders",this.$qs.stringify({userid:956532,cart_id:this.$route.params.confirmData,addr_id:this.defaultAddress.id,remark:"",use_balance:0,use_integral:0,is_pei:0,agent_id:"",pf:1,ymVoucher:""})).then((function(e){"500"==e.data.code?t.$Toast.fail(e.data.msg):(t.paySn=e.data.result.data.pay_sn,t.$router.push({name:"pay",params:{truePrice:t.truePrice,paySn:t.paySn}}))}))}},mounted:function(){console.log("111",this.$route.params.allGoods),this.shopList=this.$route.params.allGoods.info,this.truePrice=this.$route.params.allGoods.count_price,this.countFreight=this.$route.params.allGoods.count_freight,console.log(this.$route.params.allGoods)},created:function(){this.getAllAddress(),this.$route.params.item&&(console.log(this.$route.params.item),this.defaultAddress=this.$route.params.item)}},o=i,d=(s("934f"),s("2877")),c=Object(d["a"])(o,r,a,!1,null,"f9150bfc",null);e["default"]=c.exports},e8b5:function(t,e,s){var r=s("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-466457ec.dec9d926.js.map